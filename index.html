<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LiveScore ‚Äî Football Scores & Stats</title>
<link href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,700&family=Barlow+Condensed:wght@600;700;800;900&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #0e1217;
  --surface: #161b22;
  --card: #1c2330;
  --border: #21262d;
  --accent: #00c853;
  --accent2: #1565c0;
  --red: #f44336;
  --yellow: #ffc107;
  --text: #e6edf3;
  --muted: #8b949e;
  --hover: #21262d;
  --header: #0d1117;
  --live: #ff1744;
  --modal-bg: #10151c;
}
* { margin:0; padding:0; box-sizing:border-box; }
body { background:var(--bg); color:var(--text); font-family:'Barlow',sans-serif; font-size:13px; min-height:100vh; }

::-webkit-scrollbar { width:5px; height:5px; }
::-webkit-scrollbar-track { background:transparent; }
::-webkit-scrollbar-thumb { background:#30363d; border-radius:3px; }

/* HEADER */
.header { background:var(--header); border-bottom:1px solid var(--border); position:sticky; top:0; z-index:200; }
.header-top { display:flex; align-items:center; justify-content:space-between; padding:0 16px; height:52px; max-width:1400px; margin:0 auto; }
.logo { display:flex; align-items:center; gap:10px; }
.logo-ball { width:32px; height:32px; background:var(--accent); border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:16px; box-shadow:0 0 16px rgba(0,200,83,0.5); animation:glow 2s ease-in-out infinite alternate; }
@keyframes glow { from{box-shadow:0 0 8px rgba(0,200,83,0.4);} to{box-shadow:0 0 20px rgba(0,200,83,0.8);} }
.logo-text { font-family:'Barlow Condensed',sans-serif; font-size:22px; font-weight:800; letter-spacing:1px; text-transform:uppercase; }
.logo-text span { color:var(--accent); }
.header-right { display:flex; align-items:center; gap:12px; }
.refresh-info { font-size:11px; color:var(--muted); display:flex; align-items:center; gap:6px; }
.live-dot { width:7px; height:7px; background:var(--live); border-radius:50%; animation:blink 1.2s infinite; }
@keyframes blink { 0%,100%{opacity:1;} 50%{opacity:0.3;} }
.btn-refresh { background:rgba(0,200,83,0.1); border:1px solid rgba(0,200,83,0.25); color:var(--accent); padding:5px 12px; border-radius:6px; cursor:pointer; font-size:11px; font-weight:600; font-family:'Barlow',sans-serif; transition:all 0.2s; letter-spacing:0.5px; }
.btn-refresh:hover { background:rgba(0,200,83,0.2); }
.btn-refresh:disabled { opacity:0.4; cursor:default; }

/* NAV TABS */
.nav-tabs { display:flex; gap:0; overflow-x:auto; padding:0 16px; max-width:1400px; margin:0 auto; border-top:1px solid var(--border); scrollbar-width:none; }
.nav-tabs::-webkit-scrollbar { display:none; }
.nav-tab { padding:10px 16px; cursor:pointer; font-size:12px; font-weight:700; color:var(--muted); border-bottom:2px solid transparent; white-space:nowrap; transition:all 0.15s; letter-spacing:0.5px; text-transform:uppercase; background:none; border-top:none; border-left:none; border-right:none; font-family:'Barlow',sans-serif; }
.nav-tab:hover { color:var(--text); }
.nav-tab.active { color:var(--accent); border-bottom-color:var(--accent); }

/* LAYOUT */
.layout { display:flex; max-width:1400px; margin:0 auto; gap:0; }

/* SIDEBAR */
.sidebar { width:220px; flex-shrink:0; border-right:1px solid var(--border); padding:12px 0; position:sticky; top:89px; height:calc(100vh - 89px); overflow-y:auto; }
.sidebar-section { margin-bottom:4px; }
.sidebar-title { padding:8px 16px; font-size:10px; font-weight:700; color:var(--muted); letter-spacing:1.5px; text-transform:uppercase; font-family:'Barlow Condensed',sans-serif; }
.sidebar-item { padding:8px 16px; cursor:pointer; display:flex; align-items:center; gap:10px; transition:background 0.1s; }
.sidebar-item:hover { background:var(--hover); }
.sidebar-item.active { background:rgba(0,200,83,0.08); color:var(--accent); }
.sidebar-item .league-flag { font-size:15px; width:20px; text-align:center; }
.sidebar-item .league-name { font-size:12px; font-weight:600; }
.sidebar-item .league-count { margin-left:auto; background:var(--border); padding:1px 6px; border-radius:10px; font-size:10px; color:var(--muted); }

/* MAIN */
.main { flex:1; min-width:0; }

/* LEAGUE BLOCK */
.league-block { border-bottom:1px solid var(--border); }
.league-header { display:flex; align-items:center; gap:10px; padding:10px 16px; background:var(--surface); position:sticky; top:89px; z-index:10; cursor:pointer; user-select:none; }
.league-header:hover { background:var(--hover); }
.league-header-flag { font-size:16px; }
.league-header-name { font-family:'Barlow Condensed',sans-serif; font-size:14px; font-weight:800; letter-spacing:0.5px; text-transform:uppercase; }
.league-header-sub { font-size:10px; color:var(--muted); margin-left:4px; }
.league-header-toggle { margin-left:auto; color:var(--muted); font-size:10px; }
.match-count-badge { margin-left:6px; background:var(--border); padding:1px 7px; border-radius:10px; font-size:10px; color:var(--muted); }

/* MATCH ROW */
.match-row { display:grid; grid-template-columns: 80px 1fr 60px 1fr 90px; align-items:center; padding:0 16px; height:48px; border-bottom:1px solid rgba(33,38,45,0.5); cursor:pointer; transition:all 0.12s; }
.match-row:hover { background:var(--hover); border-left:3px solid var(--accent); padding-left:13px; }
.match-row.live-match { background:rgba(255,23,68,0.03); }
.match-row.live-match:hover { border-left-color:var(--live); }

.match-time { font-size:11px; font-weight:600; color:var(--muted); display:flex; flex-direction:column; align-items:flex-start; gap:1px; }
.match-time .live-label { color:var(--live); font-size:10px; font-weight:800; letter-spacing:0.5px; font-family:'Barlow Condensed',sans-serif; }
.match-time .time-val { color:var(--muted); }
.match-time .status-ft { color:var(--muted); font-size:10px; font-weight:700; letter-spacing:0.5px; }

.team-block { display:flex; align-items:center; gap:8px; }
.team-block.away { flex-direction:row-reverse; text-align:right; }
.team-initial { width:28px; height:28px; border-radius:50%; flex-shrink:0; display:flex; align-items:center; justify-content:center; font-size:9px; font-weight:800; color:#fff; letter-spacing:0.5px; font-family:'Barlow Condensed',sans-serif; }
.team-name-text { font-size:12px; font-weight:600; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:140px; }
.team-name-text.winner { font-weight:800; color:var(--text); }

.score-block { text-align:center; display:flex; flex-direction:column; align-items:center; gap:2px; }
.score-main { font-family:'Barlow Condensed',sans-serif; font-size:18px; font-weight:800; letter-spacing:2px; display:flex; gap:6px; align-items:center; }
.score-main .s { min-width:16px; text-align:center; }
.score-main .dash { color:var(--muted); font-weight:300; }
.score-main.live-score { color:var(--live); }
.score-sub { font-size:9px; color:var(--muted); }

.match-meta { display:flex; flex-direction:column; align-items:flex-end; gap:2px; }
.match-meta .meta-tag { font-size:9px; padding:1px 5px; border-radius:3px; background:var(--border); color:var(--muted); letter-spacing:0.3px; font-weight:700; }
.match-meta .meta-live { background:rgba(255,23,68,0.15); color:var(--live); }
.match-meta .meta-soon { background:rgba(255,193,7,0.12); color:var(--yellow); }

/* STANDINGS */
.standings-wrapper { padding:16px; }
.standings-league-title { font-family:'Barlow Condensed',sans-serif; font-size:16px; font-weight:800; letter-spacing:1px; text-transform:uppercase; margin-bottom:12px; display:flex; align-items:center; gap:8px; }
.standings-table-wrap { background:var(--surface); border:1px solid var(--border); border-radius:8px; overflow:hidden; margin-bottom:20px; }
table.stable { width:100%; border-collapse:collapse; }
table.stable thead tr { background:var(--card); }
table.stable th { padding:8px 10px; font-size:10px; font-weight:700; color:var(--muted); text-transform:uppercase; letter-spacing:0.8px; text-align:left; border-bottom:1px solid var(--border); font-family:'Barlow Condensed',sans-serif; }
table.stable th.num { text-align:center; }
table.stable tbody tr { border-bottom:1px solid rgba(33,38,45,0.6); transition:background 0.1s; }
table.stable tbody tr:hover { background:var(--hover); }
table.stable tbody tr:last-child { border-bottom:none; }
table.stable td { padding:9px 10px; font-size:12px; }
table.stable td.num { text-align:center; color:var(--muted); }
.stable .rank-col { width:36px; }
.stable .rank-num { width:22px; height:22px; border-radius:4px; display:inline-flex; align-items:center; justify-content:center; font-size:11px; font-weight:700; background:var(--border); color:var(--muted); }
.stable .rank-1 { background:rgba(255,193,7,0.2); color:var(--yellow); }
.stable .rank-2 { background:rgba(192,192,192,0.15); color:#aaa; }
.stable .rank-3 { background:rgba(180,120,60,0.2); color:#cd7f32; }
.stable .zone-cl { border-left:3px solid var(--accent); }
.stable .zone-el { border-left:3px solid #2979ff; }
.stable .zone-rel { border-left:3px solid var(--red); }
.stable .team-cell { display:flex; align-items:center; gap:8px; }
.stable .t-init { width:24px; height:24px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:8px; font-weight:800; color:#fff; flex-shrink:0; font-family:'Barlow Condensed',sans-serif; }
.stable .t-name { font-weight:600; }
.stable .pts-col { font-weight:800; font-size:13px; color:var(--text); text-align:center; }
.form-dots { display:flex; gap:3px; justify-content:center; }
.form-dot { width:15px; height:15px; border-radius:3px; font-size:9px; font-weight:700; color:#fff; display:flex; align-items:center; justify-content:center; font-family:'Barlow Condensed',sans-serif; }
.form-W { background:#2ea043; }
.form-D { background:#58a6ff44; color:#58a6ff; }
.form-L { background:rgba(244,67,54,0.8); }
.zone-legend { display:flex; gap:16px; margin-bottom:12px; flex-wrap:wrap; }
.zone-legend-item { display:flex; align-items:center; gap:5px; font-size:10px; color:var(--muted); }
.zone-box { width:10px; height:10px; border-radius:2px; }
.loading-overlay { display:flex; flex-direction:column; align-items:center; justify-content:center; height:300px; gap:16px; }
.spinner { width:40px; height:40px; border-radius:50%; border:3px solid var(--border); border-top-color:var(--accent); animation:spin 0.7s linear infinite; }
@keyframes spin { to{transform:rotate(360deg);} }
.loading-text { font-size:12px; color:var(--muted); letter-spacing:1px; font-family:'Barlow Condensed',sans-serif; }
.empty-state { padding:40px; text-align:center; color:var(--muted); font-size:12px; }
.date-bar { display:flex; align-items:center; gap:6px; padding:10px 16px; background:var(--surface); border-bottom:1px solid var(--border); overflow-x:auto; scrollbar-width:none; }
.date-bar::-webkit-scrollbar { display:none; }
.date-btn { padding:5px 12px; border-radius:6px; cursor:pointer; font-size:11px; font-weight:700; white-space:nowrap; background:none; border:1px solid var(--border); color:var(--muted); font-family:'Barlow',sans-serif; transition:all 0.15s; letter-spacing:0.5px; text-transform:uppercase; }
.date-btn:hover { border-color:var(--accent); color:var(--text); }
.date-btn.active { background:var(--accent); color:#000; border-color:var(--accent); }
@keyframes fadeUp { from{opacity:0;transform:translateY(6px);} to{opacity:1;transform:translateY(0);} }
.fade-up { animation:fadeUp 0.3s ease both; }

/* ‚îÄ‚îÄ‚îÄ MATCH DETAIL MODAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
.modal-overlay {
  position:fixed; inset:0; z-index:1000;
  display:flex; justify-content:flex-end;
  pointer-events:none; opacity:0;
  transition:opacity 0.3s;
}
.modal-overlay.open {
  pointer-events:all; opacity:1;
}
.modal-backdrop {
  position:absolute; inset:0;
  background:rgba(0,0,0,0.6);
  backdrop-filter:blur(4px);
}
.modal-panel {
  position:relative; width:min(680px, 100vw);
  background:var(--modal-bg);
  border-left:1px solid var(--border);
  display:flex; flex-direction:column;
  overflow:hidden;
  transform:translateX(100%);
  transition:transform 0.35s cubic-bezier(0.22,1,0.36,1);
  box-shadow:-20px 0 60px rgba(0,0,0,0.5);
}
.modal-overlay.open .modal-panel {
  transform:translateX(0);
}

/* MODAL HEADER */
.modal-header {
  background:linear-gradient(160deg, #0d1117 0%, #161b22 100%);
  padding:20px 20px 0;
  border-bottom:1px solid var(--border);
  position:relative;
  flex-shrink:0;
}
.modal-close {
  position:absolute; top:14px; right:14px;
  width:32px; height:32px; border-radius:50%;
  background:rgba(255,255,255,0.06); border:1px solid var(--border);
  color:var(--muted); cursor:pointer; font-size:16px;
  display:flex; align-items:center; justify-content:center;
  transition:all 0.15s;
}
.modal-close:hover { background:rgba(255,255,255,0.12); color:var(--text); }
.modal-league-badge {
  display:flex; align-items:center; gap:6px;
  margin-bottom:16px;
}
.modal-league-badge .flag { font-size:14px; }
.modal-league-badge .name { font-family:'Barlow Condensed',sans-serif; font-size:12px; font-weight:700; letter-spacing:1px; text-transform:uppercase; color:var(--muted); }
.modal-league-badge .round { font-size:10px; color:var(--muted); padding:1px 6px; background:var(--border); border-radius:3px; }

.match-hero {
  display:grid; grid-template-columns:1fr auto 1fr;
  align-items:center; gap:12px; margin-bottom:16px;
}
.mh-team {
  display:flex; flex-direction:column; align-items:center; gap:8px;
}
.mh-team.away { }
.mh-badge {
  width:52px; height:52px; border-radius:50%;
  display:flex; align-items:center; justify-content:center;
  font-family:'Barlow Condensed',sans-serif; font-size:16px; font-weight:900;
  color:#fff; letter-spacing:1px; flex-shrink:0;
  box-shadow:0 4px 16px rgba(0,0,0,0.4);
}
.mh-name {
  font-family:'Barlow Condensed',sans-serif; font-size:18px; font-weight:800;
  text-transform:uppercase; letter-spacing:0.5px; text-align:center;
  line-height:1.1;
}
.mh-score-col {
  display:flex; flex-direction:column; align-items:center; gap:4px;
}
.mh-score {
  font-family:'Barlow Condensed',sans-serif; font-size:48px; font-weight:900;
  letter-spacing:4px; line-height:1;
}
.mh-score.live { color:var(--live); }
.mh-score .dash { color:var(--muted); font-weight:300; margin:0 2px; }
.mh-status {
  font-family:'Barlow Condensed',sans-serif; font-size:11px; font-weight:700;
  letter-spacing:1.5px; text-transform:uppercase;
}
.mh-status.ft { color:var(--muted); }
.mh-status.live { color:var(--live); animation:blink 1.2s infinite; }
.mh-status.sch { color:var(--yellow); }
.mh-halftime { font-size:10px; color:var(--muted); }

.match-meta-row {
  display:flex; align-items:center; gap:16px; padding-bottom:12px;
  font-size:11px; color:var(--muted);
}
.match-meta-row span { display:flex; align-items:center; gap:4px; }
.match-meta-row .sep { color:var(--border); }

/* MODAL TABS */
.modal-tabs {
  display:flex; border-bottom:1px solid var(--border);
  background:var(--surface); flex-shrink:0; overflow-x:auto; scrollbar-width:none;
}
.modal-tabs::-webkit-scrollbar { display:none; }
.modal-tab {
  padding:12px 18px; cursor:pointer; font-size:11px; font-weight:700;
  color:var(--muted); border-bottom:2px solid transparent;
  white-space:nowrap; transition:all 0.15s; letter-spacing:0.8px;
  text-transform:uppercase; background:none; border-top:none;
  border-left:none; border-right:none; font-family:'Barlow',sans-serif;
}
.modal-tab:hover { color:var(--text); }
.modal-tab.active { color:var(--accent); border-bottom-color:var(--accent); }

/* MODAL BODY */
.modal-body { flex:1; overflow-y:auto; }
.tab-panel { display:none; }
.tab-panel.active { display:block; }

/* ‚îÄ‚îÄ OVERVIEW TAB ‚îÄ‚îÄ */
.overview-grid { display:grid; grid-template-columns:1fr 1fr; gap:12px; padding:16px; }
@media(max-width:500px) { .overview-grid { grid-template-columns:1fr; } }
.overview-card {
  background:var(--surface); border:1px solid var(--border);
  border-radius:10px; padding:14px; 
}
.ov-card-title {
  font-family:'Barlow Condensed',sans-serif; font-size:11px; font-weight:700;
  text-transform:uppercase; letter-spacing:1px; color:var(--muted);
  margin-bottom:10px;
}
.ov-card-full { grid-column:1/-1; }

/* Goals summary in overview */
.goal-line {
  display:flex; align-items:center; gap:8px; padding:5px 0;
  border-bottom:1px solid rgba(33,38,45,0.5); font-size:12px;
}
.goal-line:last-child { border-bottom:none; }
.goal-min {
  font-family:'Barlow Condensed',sans-serif; font-size:13px; font-weight:800;
  color:var(--accent); width:32px; flex-shrink:0;
}
.goal-icon { font-size:14px; flex-shrink:0; }
.goal-team-name { font-size:10px; color:var(--muted); margin-top:1px; }
.goal-player { font-weight:600; }

/* Player of the match card */
.potm-card { display:flex; align-items:center; gap:12px; }
.potm-badge {
  width:44px; height:44px; border-radius:10px; flex-shrink:0;
  display:flex; align-items:center; justify-content:center;
  font-family:'Barlow Condensed',sans-serif; font-size:13px; font-weight:900;
  color:#fff;
}
.potm-info .potm-name { font-size:14px; font-weight:700; }
.potm-info .potm-team { font-size:11px; color:var(--muted); }
.potm-info .potm-rating {
  display:inline-block; margin-top:4px;
  background:rgba(0,200,83,0.15); color:var(--accent);
  border:1px solid rgba(0,200,83,0.3); border-radius:4px;
  padding:1px 7px; font-size:12px; font-weight:800; font-family:'Barlow Condensed',sans-serif;
}

/* Match info details */
.info-row { display:flex; justify-content:space-between; align-items:center; padding:6px 0; border-bottom:1px solid rgba(33,38,45,0.4); font-size:12px; }
.info-row:last-child { border-bottom:none; }
.info-label { color:var(--muted); font-size:11px; }
.info-value { font-weight:600; text-align:right; }

/* ‚îÄ‚îÄ LINEUPS TAB ‚îÄ‚îÄ */
.lineups-wrapper { padding:16px; }
.lineups-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }
.lineup-formation { font-family:'Barlow Condensed',sans-serif; font-size:22px; font-weight:900; color:var(--accent); }
.lineup-team-label { font-size:11px; color:var(--muted); font-weight:700; text-transform:uppercase; letter-spacing:0.5px; }

/* Football Pitch */
.pitch-wrapper {
  background:linear-gradient(180deg, #1a3a1a 0%, #1f4a1f 50%, #1a3a1a 100%);
  border-radius:10px; padding:16px 12px;
  border:2px solid rgba(255,255,255,0.08);
  margin-bottom:16px; position:relative; overflow:hidden;
}
.pitch-wrapper::before {
  content:''; position:absolute; top:50%; left:10%; right:10%;
  height:1px; background:rgba(255,255,255,0.15);
}
.pitch-wrapper::after {
  content:''; position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
  width:60px; height:60px; border-radius:50%;
  border:1px solid rgba(255,255,255,0.15);
}
.pitch-half { display:flex; flex-direction:column; gap:6px; }
.pitch-row { display:flex; justify-content:space-evenly; padding:4px 0; }
.pitch-player {
  display:flex; flex-direction:column; align-items:center; gap:3px;
  cursor:default; transition:transform 0.15s;
}
.pitch-player:hover { transform:scale(1.08); }
.pitch-dot {
  width:30px; height:30px; border-radius:50%;
  display:flex; align-items:center; justify-content:center;
  font-family:'Barlow Condensed',sans-serif; font-size:10px; font-weight:900;
  color:#fff; border:2px solid rgba(255,255,255,0.3);
  box-shadow:0 2px 8px rgba(0,0,0,0.4);
  position:relative;
}
.pitch-dot .shirt-num {
  position:absolute; top:-6px; right:-4px;
  background:#1a1a1a; color:var(--text);
  font-size:8px; font-weight:800; border-radius:3px;
  padding:0 3px; line-height:12px;
}
.pitch-pname {
  font-size:9px; font-weight:700; color:rgba(255,255,255,0.9);
  text-shadow:0 1px 3px rgba(0,0,0,0.8);
  max-width:52px; text-align:center; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;
}
.pitch-divider { height:1px; background:rgba(255,255,255,0.08); margin:8px 0; }
.pitch-center-dot { width:8px; height:8px; background:rgba(255,255,255,0.3); border-radius:50%; position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); z-index:1; }

/* Player list below pitch */
.lineup-cols { display:grid; grid-template-columns:1fr 1fr; gap:12px; }
.lineup-col-title { font-family:'Barlow Condensed',sans-serif; font-size:13px; font-weight:800; text-transform:uppercase; letter-spacing:0.5px; padding-bottom:8px; margin-bottom:4px; border-bottom:1px solid var(--border); display:flex; align-items:center; gap:6px; }
.lineup-player-row {
  display:flex; align-items:center; gap:8px;
  padding:7px 0; border-bottom:1px solid rgba(33,38,45,0.4);
  font-size:12px; transition:background 0.1s;
}
.lineup-player-row:last-child { border-bottom:none; }
.lp-num { font-family:'Barlow Condensed',sans-serif; font-size:14px; font-weight:800; color:var(--muted); width:20px; text-align:center; }
.lp-dot { width:22px; height:22px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-family:'Barlow Condensed',sans-serif; font-size:9px; font-weight:900; color:#fff; flex-shrink:0; }
.lp-name { flex:1; font-weight:600; }
.lp-pos { font-size:9px; color:var(--muted); background:var(--border); padding:1px 5px; border-radius:3px; font-family:'Barlow Condensed',sans-serif; font-weight:700; }
.lp-rating { font-family:'Barlow Condensed',sans-serif; font-size:13px; font-weight:800; color:var(--text); width:28px; text-align:right; }
.lp-rating.high { color:var(--accent); }
.lp-rating.low { color:var(--red); }
.sub-label { font-family:'Barlow Condensed',sans-serif; font-size:11px; font-weight:700; color:var(--muted); text-transform:uppercase; letter-spacing:1px; padding:10px 0 6px; border-top:1px solid var(--border); margin-top:4px; }
.lp-sub { color:var(--muted); font-size:10px; margin-left:auto; display:flex; align-items:center; gap:3px; }
.lp-sub .sub-in { color:var(--accent); font-size:11px; }
.lp-sub .sub-min { font-family:'Barlow Condensed',sans-serif; font-weight:700; }
.lp-captain { font-size:10px; color:var(--yellow); margin-left:3px; }

/* ‚îÄ‚îÄ STATS TAB ‚îÄ‚îÄ */
.stats-wrapper { padding:16px; }
.stats-team-header { display:grid; grid-template-columns:1fr auto 1fr; align-items:center; gap:8px; margin-bottom:16px; }
.sth-name { font-family:'Barlow Condensed',sans-serif; font-size:14px; font-weight:800; text-transform:uppercase; }
.sth-name.right { text-align:right; }
.sth-badge { width:32px; height:32px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-family:'Barlow Condensed',sans-serif; font-size:10px; font-weight:900; color:#fff; }
.stat-category { font-family:'Barlow Condensed',sans-serif; font-size:11px; font-weight:700; text-transform:uppercase; letter-spacing:1px; color:var(--muted); margin:16px 0 8px; padding-top:12px; border-top:1px solid var(--border); }
.stat-category:first-of-type { margin-top:0; border-top:none; padding-top:0; }
.stat-row { margin-bottom:10px; }
.stat-row-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:5px; }
.stat-label { font-size:11px; color:var(--muted); font-weight:600; }
.stat-val { font-family:'Barlow Condensed',sans-serif; font-size:13px; font-weight:800; }
.stat-val.home { color:var(--text); }
.stat-val.away { color:var(--text); }
.stat-bar-bg { height:6px; background:var(--border); border-radius:3px; overflow:hidden; display:flex; }
.stat-bar-home { height:6px; background:var(--accent); border-radius:3px 0 0 3px; transition:width 0.8s ease; }
.stat-bar-away { height:6px; background:#2979ff; border-radius:0 3px 3px 0; transition:width 0.8s ease; }
.possession-block { display:grid; grid-template-columns:1fr 1fr; gap:0; border:1px solid var(--border); border-radius:8px; overflow:hidden; margin-bottom:16px; }
.poss-side { padding:14px; text-align:center; }
.poss-side.left { background:rgba(0,200,83,0.06); border-right:1px solid var(--border); }
.poss-side.right { background:rgba(41,121,255,0.06); }
.poss-pct { font-family:'Barlow Condensed',sans-serif; font-size:36px; font-weight:900; line-height:1; }
.poss-side.left .poss-pct { color:var(--accent); }
.poss-side.right .poss-pct { color:#2979ff; }
.poss-label { font-size:10px; color:var(--muted); margin-top:2px; font-weight:700; text-transform:uppercase; letter-spacing:0.5px; }

/* Player stats table */
.pstats-wrapper { margin-top:16px; }
.pstats-title { font-family:'Barlow Condensed',sans-serif; font-size:13px; font-weight:800; text-transform:uppercase; letter-spacing:0.5px; margin-bottom:8px; color:var(--text); }
.pstats-table { width:100%; border-collapse:collapse; }
.pstats-table th { font-size:10px; font-weight:700; color:var(--muted); text-transform:uppercase; letter-spacing:0.5px; padding:6px 8px; text-align:left; border-bottom:1px solid var(--border); font-family:'Barlow Condensed',sans-serif; }
.pstats-table th.r { text-align:right; }
.pstats-table td { padding:8px 8px; font-size:12px; border-bottom:1px solid rgba(33,38,45,0.4); }
.pstats-table td.r { text-align:right; color:var(--muted); }
.pstats-table tr:last-child td { border-bottom:none; }
.pstats-table tr:hover td { background:rgba(255,255,255,0.02); }
.pstats-name { font-weight:600; }
.pstats-pos { font-size:10px; color:var(--muted); }
.pstats-rating { font-family:'Barlow Condensed',sans-serif; font-size:14px; font-weight:800; }
.pstats-rating.green { color:var(--accent); }
.pstats-rating.yellow { color:var(--yellow); }
.pstats-rating.red { color:var(--red); }

/* ‚îÄ‚îÄ EVENTS TAB ‚îÄ‚îÄ */
.events-wrapper { padding:16px; }
.timeline { position:relative; }
.timeline::before { content:''; position:absolute; left:50%; top:0; bottom:0; width:1px; background:var(--border); transform:translateX(-50%); }
.tl-item { display:grid; grid-template-columns:1fr 40px 1fr; align-items:center; gap:8px; margin-bottom:8px; }
.tl-home { text-align:right; font-size:12px; }
.tl-away { text-align:left; font-size:12px; }
.tl-home, .tl-away { padding:4px; }
.tl-minute {
  width:40px; height:40px; border-radius:50%;
  background:var(--surface); border:1px solid var(--border);
  display:flex; align-items:center; justify-content:center;
  font-family:'Barlow Condensed',sans-serif; font-size:11px; font-weight:800;
  color:var(--muted); flex-shrink:0; z-index:1;
}
.tl-minute.goal { background:rgba(0,200,83,0.15); border-color:var(--accent); color:var(--accent); }
.tl-minute.yellow-card { background:rgba(255,193,7,0.15); border-color:var(--yellow); color:var(--yellow); }
.tl-minute.red-card { background:rgba(244,67,54,0.15); border-color:var(--red); color:var(--red); }
.tl-minute.sub { background:rgba(88,166,255,0.1); border-color:#58a6ff; color:#58a6ff; }
.tl-event { padding:8px 10px; border-radius:8px; }
.tl-home .tl-event { background:rgba(0,200,83,0.05); border:1px solid rgba(0,200,83,0.1); margin-left:4px; }
.tl-away .tl-event { background:rgba(41,121,255,0.05); border:1px solid rgba(41,121,255,0.1); margin-right:4px; }
.tl-event-icon { font-size:14px; }
.tl-event-player { font-size:12px; font-weight:700; }
.tl-event-sub-out { font-size:10px; color:var(--muted); display:flex; align-items:center; gap:3px; }
.tl-event-type { font-size:10px; color:var(--muted); margin-top:1px; }
.tl-period-marker { grid-column:1/-1; display:flex; align-items:center; gap:10px; margin:8px 0; }
.tl-period-line { flex:1; height:1px; background:var(--border); }
.tl-period-label { font-family:'Barlow Condensed',sans-serif; font-size:10px; font-weight:700; color:var(--muted); text-transform:uppercase; letter-spacing:1px; white-space:nowrap; }

/* RESPONSIVE */
@media(max-width:900px) {
  .sidebar { display:none; }
  .match-row { grid-template-columns: 64px 1fr 56px 1fr 72px; }
}
@media(max-width:600px) {
  .match-row { grid-template-columns: 54px 1fr 50px 1fr; }
  .match-meta { display:none; }
  .team-name-text { max-width:90px; }
  .modal-panel { width:100vw; }
  .lineup-cols { grid-template-columns:1fr; }
}
</style>
</head>
<body>

<div class="header">
  <div class="header-top">
    <div class="logo">
      <div class="logo-ball">‚öΩ</div>
      <div class="logo-text">Live<span>Score</span></div>
    </div>
    <div class="header-right">
      <div class="refresh-info">
        <div class="live-dot"></div>
        <span id="refresh-label">Auto-refresh in <strong id="countdown">60</strong>s</span>
      </div>
      <button class="btn-refresh" id="btn-refresh" onclick="refreshAll()">‚Üª Refresh</button>
    </div>
  </div>
  <div class="nav-tabs">
    <button class="nav-tab active" onclick="switchMainTab('scores', this)">Scores</button>
    <button class="nav-tab" onclick="switchMainTab('standings', this)">Standings</button>
  </div>
</div>

<div class="layout">
  <div class="sidebar" id="sidebar">
    <div class="sidebar-section">
      <div class="sidebar-title">Leagues</div>
      <div class="sidebar-item active" onclick="filterLeague('all', this)">
        <span class="league-flag">üåç</span>
        <span class="league-name">All Leagues</span>
      </div>
      <div class="sidebar-item" onclick="filterLeague('epl', this)">
        <span class="league-flag">üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø</span>
        <span class="league-name">Premier League</span>
      </div>
      <div class="sidebar-item" onclick="filterLeague('la_liga', this)">
        <span class="league-flag">üá™üá∏</span>
        <span class="league-name">La Liga</span>
      </div>
      <div class="sidebar-item" onclick="filterLeague('bundesliga', this)">
        <span class="league-flag">üá©üá™</span>
        <span class="league-name">Bundesliga</span>
      </div>
      <div class="sidebar-item" onclick="filterLeague('serie_a', this)">
        <span class="league-flag">üáÆüáπ</span>
        <span class="league-name">Serie A</span>
      </div>
      <div class="sidebar-item" onclick="filterLeague('champions_league', this)">
        <span class="league-flag">‚≠ê</span>
        <span class="league-name">Champions League</span>
      </div>
    </div>
  </div>

  <div class="main" id="main-content">
    <div id="panel-scores">
      <div class="date-bar">
        <button class="date-btn" onclick="setDateFilter('past', this)">Past Results</button>
        <button class="date-btn active" onclick="setDateFilter('all', this)">All Matches</button>
        <button class="date-btn" onclick="setDateFilter('upcoming', this)">Upcoming</button>
      </div>
      <div id="scores-content"><div class="loading-overlay"><div class="spinner"></div><div class="loading-text">LOADING LIVE DATA</div></div></div>
    </div>
    <div id="panel-standings" style="display:none">
      <div id="standings-content"><div class="loading-overlay"><div class="spinner"></div><div class="loading-text">LOADING STANDINGS</div></div></div>
    </div>
  </div>
</div>

<!-- MATCH DETAIL MODAL -->
<div class="modal-overlay" id="matchModal">
  <div class="modal-backdrop" onclick="closeMatchDetail()"></div>
  <div class="modal-panel" id="modalPanel">
    <div id="modal-inner"></div>
  </div>
</div>

<script>
// ‚îÄ‚îÄ‚îÄ COLOURS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const TC = {
  ARS:"#ef0107",MCI:"#6cabdd",LFC:"#c8102e",MUN:"#da291c",CFC:"#034694",
  AVL:"#7fc5e3",TOT:"#132257",NEW:"#241f20",BRI:"#0057b8",WHU:"#7a263a",
  LEE:"#ffcd00",EVE:"#003399",BRE:"#e30613",FUL:"#cc0000",WOL:"#fdb913",
  CRY:"#1b458f",NFO:"#dd0000",BOU:"#da291c",SUN:"#eb172b",BUR:"#6c1d45",
  BAR:"#a50044",RMA:"#febe10",VIL:"#009f3f",ATM:"#cb3524",RBB:"#00954f",
  RCC:"#4ba3e2",ESP:"#004d98",ATH:"#ee2523",OSA:"#d91a22",RSO:"#1047a9",
  GIR:"#9c1c3c",SEV:"#d8262a",GET:"#005ca9",ALA:"#007ac3",RVC:"#d01317",
  VCF:"#ee7623",ELC:"#006633",MAL:"#ef0707",LEV:"#c6173d",OVI:"#003d8f",
  BMU:"#dc052d",BVB:"#fde100",TSG:"#1763ff",VFB:"#e32219",RBL:"#dd0741",
  SCF:"#e30613",SGE:"#e1000f",UNI:"#eb1c24",FCA:"#ba3733",
  HSV:"#0034a5",KOE:"#ff0000",M05:"#d00027",BMG:"#00652d",WOB:"#009900",
  STP:"#70412f",SVW:"#1d9053",FCH:"#e2001a",
  INT:"#002f6c",ACM:"#fb090b",NAP:"#12a0c3",ROM:"#f5821f",JUV:"#111111",
  COM:"#0057a8",ATA:"#1c3f7e",BFC:"#003882",SAS:"#1f5ca3",LAZ:"#74c1e8",
  UDI:"#000000",PAR:"#1e3a6e",CAG:"#b8162f",GEN:"#c2272d",TOR:"#8b0000",
  FIO:"#4b0082",CRE:"#cc0000",LEC:"#ffcc00",PIS:"#003366",VER:"#0a5c36",
  BRU:"#002060",BOG:"#ff4500",OLY:"#ff0000",QAR:"#0057a8",PSG:"#004170",ASM:"#ce1126"
};
function getColor(a) { return TC[a] || "#555"; }

// ‚îÄ‚îÄ‚îÄ PLAYER NAME POOLS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const NAMES = {
  GK:  ["Ramsdale","Ederson","Alisson","De Gea","Pickford","Pope","Flekken","Forster","Vicario","Henderson","Kelleher","Flaherty","Leno","Sels","Olsen"],
  DEF: ["White","Walker","Alexander-Arnold","James","Chilwell","Shaw","Trippier","Pedro Porro","Mykolenko","Wan-Bissaka","Mazraoui","Konsa","Mings","Collins","Dier","Romero","Van Dijk","Saliba","Gabriel","Gvardiol","Ak√©","Stones","Dias","Timber","Cresswell","Coufal","Emerson","Dalot","Lindel√∂f","Maguire","Fuchs"],
  MID: ["Rice","Odegaard","Havertz","Bernardo","De Bruyne","G√ºndogan","B.Silva","Mount","Gallagher","Kovacic","Palmer","Enzo","Caicedo","Fernandes","Eriksen","Casemiro","Rashford","McTominay","Ward-Prowse","Hojbjerg","Maddison","Bissouma","Trossard","Martinelli","Saka","Diaz","Harvey Barnes","Joelinton","Anderson","Guimaraes","Perisic","Son"],
  FWD: ["Haaland","Watkins","Wilson","Isak","Solanke","Toney","Doku","Foden","Nunez","Salah","Jesus","Nketiah","Mbeumo","Wissa","Awoniyi","Elanga","Firmino","Mitrovic","Jimenez","Laca","Zaha","Ayew","Ings","Archer","Brown"]
};
const POS_LABELS = {GK:"GK",DEF:"CB",MID:"MID",FWD:"FWD"};
const VENUES = {
  epl:["Emirates Stadium","Etihad Stadium","Anfield","Old Trafford","Stamford Bridge","Villa Park","Tottenham Hotspur Stadium","St. James' Park","Amex Stadium","Craven Cottage"],
  la_liga:["Camp Nou","Santiago Bernab√©u","Wanda Metropolitano","Estadio de la Cer√°mica","Benito Villamar√≠n","Bala√≠dos","RCDE Stadium","San Mam√©s","El Sadar","Reale Arena"],
  bundesliga:["Allianz Arena","Signal Iduna Park","PreZero Arena","Mercedes-Benz Arena","Red Bull Arena","BayArena","Schwarzwald-Stadion","Deutsche Bank Park","Volksparkstadion","RheinEnergieStadion"],
  serie_a:["Juventus Stadium","Stadio San Siro","Stadio Olimpico","Stadio Diego Armando Maradona","Stadio Olimpico Grande Torino","Gewiss Stadium","Dall'Ara","Stadio Luigi Ferraris","Stadio Mapei","Artemio Franchi"],
  champions_league:["Jan Breydel","Aspmyra Stadion","Wanda Metropolitano","BayArena","St. James' Park","San Siro","Gewiss Stadium","Juventus Stadium","Parc des Princes","Santiago Bernab√©u"]
};
const REFEREES = ["M. Oliver","A. Taylor","C. Pawson","S. Attwell","D. Coote","P. Tierney","J. Moss","R. Jones","K. Friend","T. Robinson","C. Kavanagh","G. Scott","D. Webb","N. Dowd","S. Martin"];

// ‚îÄ‚îÄ‚îÄ SEEDED RANDOM ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function seededRand(seed) {
  let s = seed;
  return function() {
    s = (s * 1664525 + 1013904223) & 0xffffffff;
    return (s >>> 0) / 0xffffffff;
  };
}

function pickN(arr, n, rng) {
  const copy = [...arr];
  const out = [];
  for (let i = 0; i < n && copy.length; i++) {
    const idx = Math.floor(rng() * copy.length);
    out.push(copy.splice(idx, 1)[0]);
  }
  return out;
}

function teamSeed(abbr) {
  let s = 0;
  for (let c of abbr) s += c.charCodeAt(0);
  return s * 7919;
}

function generateLineup(abbr, formation) {
  const rng = seededRand(teamSeed(abbr));
  const color = getColor(abbr);
  const [defs, mids, fwds] = formation.split('-').map(Number);
  const nums = pickN(Array.from({length:99},(_,i)=>i+1), 16, rng);
  const players = [];

  const gkName = NAMES.GK[Math.floor(rng() * NAMES.GK.length)];
  players.push({name:gkName, num:1, pos:"GK", rating:(6+rng()*2.5).toFixed(1)});

  const defNames = pickN(NAMES.DEF, defs, seededRand(teamSeed(abbr)+1));
  defNames.forEach((n,i) => players.push({name:n, num:nums[i+1], pos:"DEF", rating:(6+rng()*2.5).toFixed(1)}));

  const midNames = pickN(NAMES.MID, mids, seededRand(teamSeed(abbr)+2));
  midNames.forEach((n,i) => players.push({name:n, num:nums[i+defs+1], pos:"MID", rating:(6+rng()*2.5).toFixed(1)}));

  const fwdNames = pickN(NAMES.FWD, fwds, seededRand(teamSeed(abbr)+3));
  fwdNames.forEach((n,i) => players.push({name:n, num:nums[i+defs+mids+1], pos:"FWD", rating:(6+rng()*2.5).toFixed(1)}));

  const subNames = pickN([...NAMES.MID,...NAMES.FWD,...NAMES.DEF], 7, seededRand(teamSeed(abbr)+4));
  subNames.forEach((n,i) => players.push({name:n, num:nums[11+i], pos:["GK","DEF","MID","MID","MID","FWD","FWD"][i]||"MID", sub:true, rating:null}));

  // captain = highest rated field player
  const starters = players.slice(0,11);
  let capIdx = 1;
  starters.slice(1).forEach((p,i) => { if(parseFloat(p.rating) > parseFloat(starters[capIdx].rating)) capIdx = i+1; });
  starters[capIdx].captain = true;

  return {players, formation, color};
}

function generateEvents(g) {
  if (g.status === "SCH") return [];
  const rng = seededRand(teamSeed(g.hA + g.aA));
  const events = [];
  const totalGoals = (g.hs || 0) + (g.as || 0);
  const usedMins = new Set();

  function randMin(min, max) {
    let m;
    do { m = min + Math.floor(rng() * (max - min)); } while (usedMins.has(m));
    usedMins.add(m);
    return m;
  }

  // Goals
  let hGoals = g.hs || 0, aGoals = g.as || 0;
  const allGoals = [];
  for (let i = 0; i < hGoals; i++) allGoals.push({side:'home', min: randMin(10,90)});
  for (let i = 0; i < aGoals; i++) allGoals.push({side:'away', min: randMin(10,90)});
  allGoals.sort((a,b) => a.min-b.min);

  const hLineup = generateLineup(g.hA, "4-3-3");
  const aLineup = generateLineup(g.aA, "4-3-3");
  const hScorers = pickN(hLineup.players.slice(3,11).map(p=>p.name), hGoals+1, seededRand(teamSeed(g.hA+"goals")));
  const aScorers = pickN(aLineup.players.slice(3,11).map(p=>p.name), aGoals+1, seededRand(teamSeed(g.aA+"goals")));
  let hi=0, ai=0;

  allGoals.forEach(go => {
    events.push({type:'goal', side:go.side, min:go.min, player: go.side==='home' ? hScorers[hi++]||hScorers[0] : aScorers[ai++]||aScorers[0], team: go.side==='home' ? g.home : g.away});
  });

  // Yellow cards
  const numYellows = 1 + Math.floor(rng() * 4);
  for (let i = 0; i < numYellows; i++) {
    const side = rng() > 0.5 ? 'home' : 'away';
    const lineup = side === 'home' ? hLineup : aLineup;
    const player = lineup.players[1 + Math.floor(rng() * 10)].name;
    events.push({type:'yellow', side, min: randMin(20,89), player, team: side==='home'?g.home:g.away});
  }
  if (rng() > 0.85) {
    const side = rng() > 0.5 ? 'home' : 'away';
    const lineup = side === 'home' ? hLineup : aLineup;
    const player = lineup.players[1 + Math.floor(rng() * 5)].name;
    events.push({type:'red', side, min: randMin(55,88), player, team: side==='home'?g.home:g.away});
  }

  // Substitutions
  const subMins = [46+Math.floor(rng()*15), 61+Math.floor(rng()*10), 70+Math.floor(rng()*10)];
  const sides = ['home','away','home'];
  sides.forEach((side, i) => {
    const lineup = side === 'home' ? hLineup : aLineup;
    const out = lineup.players[4 + Math.floor(rng() * 7)].name;
    const inP = lineup.players[11 + Math.floor(rng() * 4)].name;
    events.push({type:'sub', side, min: subMins[i], player: inP, playerOut: out, team: side==='home'?g.home:g.away});
  });

  events.sort((a,b) => a.min - b.min);
  return events;
}

function generateStats(g) {
  const rng = seededRand(teamSeed(g.hA + g.aA + "stats"));
  const hPoss = 35 + Math.floor(rng() * 30);
  const aPoss = 100 - hPoss;
  const hShots = 5 + Math.floor(rng() * 14);
  const aShots = 5 + Math.floor(rng() * 14);
  const hShotsOT = Math.min(hShots, 2 + Math.floor(rng() * (g.hs||1)*2 + 2));
  const aShotsOT = Math.min(aShots, 2 + Math.floor(rng() * (g.as||1)*2 + 2));
  return {
    hPoss, aPoss,
    hShots, aShots,
    hShotsOT, aShotsOT,
    hCorners: 2 + Math.floor(rng() * 9),
    aCorners: 2 + Math.floor(rng() * 9),
    hFouls: 8 + Math.floor(rng() * 10),
    aFouls: 8 + Math.floor(rng() * 10),
    hOffsides: Math.floor(rng() * 5),
    aOffsides: Math.floor(rng() * 5),
    hSaves: Math.max(0, aShotsOT - (g.as||0)),
    aSaves: Math.max(0, hShotsOT - (g.hs||0)),
    hPassAcc: 70 + Math.floor(rng() * 20),
    aPassAcc: 70 + Math.floor(rng() * 20),
    hDribbles: 3 + Math.floor(rng() * 8),
    aDribbles: 3 + Math.floor(rng() * 8),
    hAerials: 10 + Math.floor(rng() * 15),
    aAerials: 10 + Math.floor(rng() * 15),
  };
}

// ‚îÄ‚îÄ‚îÄ DATA ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const LEAGUES = {
  epl: {
    name: "Premier League", flag: "üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø", country: "England",
    games: [
      {home:"Aston Villa",hA:"AVL",away:"Leeds United",aA:"LEE",hs:1,as:1,status:"FT",time:"Feb 21"},
      {home:"Brentford FC",hA:"BRE",away:"Brighton",aA:"BRI",hs:0,as:2,status:"FT",time:"Feb 21"},
      {home:"Chelsea FC",hA:"CFC",away:"Burnley FC",aA:"BUR",hs:1,as:1,status:"FT",time:"Feb 21"},
      {home:"West Ham",hA:"WHU",away:"Bournemouth",aA:"BOU",hs:0,as:0,status:"FT",time:"Feb 21"},
      {home:"Man City",hA:"MCI",away:"Newcastle",aA:"NEW",hs:2,as:1,status:"FT",time:"Feb 21"},
      {home:"Crystal Palace",hA:"CRY",away:"Wolves",aA:"WOL",hs:1,as:0,status:"FT",time:"Feb 22"},
      {home:"Nott'm Forest",hA:"NFO",away:"Liverpool",aA:"LFC",hs:0,as:1,status:"FT",time:"Feb 22"},
      {home:"Sunderland",hA:"SUN",away:"Fulham",aA:"FUL",hs:1,as:3,status:"FT",time:"Feb 22"},
      {home:"Tottenham",hA:"TOT",away:"Arsenal",aA:"ARS",hs:1,as:4,status:"FT",time:"Feb 22"},
      {home:"Everton",hA:"EVE",away:"Man United",aA:"MUN",hs:0,as:1,status:"FT",time:"Feb 23"},
      {home:"Wolves",hA:"WOL",away:"Aston Villa",aA:"AVL",hs:null,as:null,status:"SCH",time:"20:00",probH:23.1,probD:26.2,probA:50.7,date:"Feb 27"},
      {home:"Bournemouth",hA:"BOU",away:"Sunderland",aA:"SUN",hs:null,as:null,status:"SCH",time:"12:30",probH:53.7,probD:24.6,probA:21.7,date:"Feb 28"},
      {home:"Burnley",hA:"BUR",away:"Brentford",aA:"BRE",hs:null,as:null,status:"SCH",time:"15:00",probH:20.3,probD:24.4,probA:55.3,date:"Feb 28"},
      {home:"Liverpool",hA:"LFC",away:"West Ham",aA:"WHU",hs:null,as:null,status:"SCH",time:"15:00",probH:68.5,probD:17.5,probA:14.0,date:"Feb 28"},
      {home:"Newcastle",hA:"NEW",away:"Everton",aA:"EVE",hs:null,as:null,status:"SCH",time:"15:00",probH:56.5,probD:23.6,probA:19.9,date:"Feb 28"},
      {home:"Leeds United",hA:"LEE",away:"Man City",aA:"MCI",hs:null,as:null,status:"SCH",time:"17:30",probH:18.4,probD:21.5,probA:60.1,date:"Feb 28"},
      {home:"Brighton",hA:"BRI",away:"Nott'm Forest",aA:"NFO",hs:null,as:null,status:"SCH",time:"14:00",probH:45.7,probD:26.6,probA:27.7,date:"Mar 1"},
      {home:"Fulham",hA:"FUL",away:"Tottenham",aA:"TOT",hs:null,as:null,status:"SCH",time:"14:00",probH:45.2,probD:26.5,probA:28.3,date:"Mar 1"},
      {home:"Man United",hA:"MUN",away:"Crystal Palace",aA:"CRY",hs:null,as:null,status:"SCH",time:"14:00",probH:62.1,probD:21.1,probA:16.8,date:"Mar 1"},
      {home:"Arsenal",hA:"ARS",away:"Chelsea",aA:"CFC",hs:null,as:null,status:"SCH",time:"16:30",probH:59.2,probD:23.0,probA:17.8,date:"Mar 1"},
    ],
    standings: [
      {r:1,team:"Arsenal",abbr:"ARS",w:18,d:7,l:3,gf:52,ga:24,pts:61,form:["W","W","D","W","W"]},
      {r:2,team:"Man City",abbr:"MCI",w:17,d:5,l:5,gf:58,ga:30,pts:56,form:["W","W","L","W","W"]},
      {r:3,team:"Aston Villa",abbr:"AVL",w:15,d:6,l:6,gf:48,ga:35,pts:51,form:["W","D","W","L","D"]},
      {r:4,team:"Man United",abbr:"MUN",w:13,d:9,l:5,gf:42,ga:29,pts:48,form:["W","D","D","W","W"]},
      {r:5,team:"Chelsea",abbr:"CFC",w:12,d:9,l:6,gf:44,ga:32,pts:45,form:["D","W","W","D","L"]},
      {r:6,team:"Liverpool",abbr:"LFC",w:13,d:6,l:8,gf:46,ga:38,pts:45,form:["W","W","L","D","W"]},
      {r:7,team:"Brentford",abbr:"BRE",w:12,d:4,l:11,gf:40,ga:44,pts:40,form:["W","L","W","D","W"]},
      {r:8,team:"Bournemouth",abbr:"BOU",w:9,d:11,l:7,gf:35,ga:33,pts:38,form:["D","W","D","D","L"]},
      {r:9,team:"Everton",abbr:"EVE",w:10,d:7,l:10,gf:34,ga:38,pts:37,form:["W","L","D","W","L"]},
      {r:10,team:"Fulham",abbr:"FUL",w:11,d:4,l:12,gf:38,ga:42,pts:37,form:["W","L","L","W","W"]},
      {r:11,team:"Newcastle",abbr:"NEW",w:10,d:6,l:11,gf:37,ga:40,pts:36,form:["L","W","D","L","W"]},
      {r:12,team:"Sunderland",abbr:"SUN",w:9,d:9,l:9,gf:33,ga:35,pts:36,form:["D","W","L","D","W"]},
      {r:13,team:"Crystal Palace",abbr:"CRY",w:9,d:8,l:10,gf:30,ga:36,pts:35,form:["W","D","L","W","D"]},
      {r:14,team:"Brighton",abbr:"BRI",w:8,d:10,l:9,gf:36,ga:38,pts:34,form:["D","L","D","W","D"]},
      {r:15,team:"Leeds United",abbr:"LEE",w:7,d:10,l:10,gf:28,ga:38,pts:31,form:["D","L","D","L","D"]},
      {r:16,team:"Tottenham",abbr:"TOT",w:7,d:8,l:12,gf:30,ga:44,pts:29,form:["L","W","L","L","W"]},
      {r:17,team:"Nott'm Forest",abbr:"NFO",w:7,d:6,l:14,gf:26,ga:46,pts:27,form:["L","L","D","W","L"]},
      {r:18,team:"West Ham",abbr:"WHU",w:6,d:7,l:14,gf:25,ga:48,pts:25,form:["L","D","L","L","D"]},
      {r:19,team:"Burnley",abbr:"BUR",w:4,d:7,l:16,gf:22,ga:56,pts:19,form:["L","D","L","L","L"]},
      {r:20,team:"Wolves",abbr:"WOL",w:1,d:7,l:20,gf:14,ga:62,pts:10,form:["L","D","L","L","L"]},
    ]
  },
  la_liga: {
    name: "La Liga", flag: "üá™üá∏", country: "Spain",
    games: [
      {home:"Athletic Bilbao",hA:"ATH",away:"Elche CF",aA:"ELC",hs:2,as:1,status:"FT",time:"Feb 20"},
      {home:"Real Sociedad",hA:"RSO",away:"Real Oviedo",aA:"OVI",hs:3,as:3,status:"FT",time:"Feb 21"},
      {home:"Real Betis",hA:"RBB",away:"Rayo Vallecano",aA:"RVC",hs:1,as:1,status:"FT",time:"Feb 21"},
      {home:"CA Osasuna",hA:"OSA",away:"Real Madrid",aA:"RMA",hs:2,as:1,status:"FT",time:"Feb 21"},
      {home:"Atletico Madrid",hA:"ATM",away:"Espanyol",aA:"ESP",hs:4,as:2,status:"FT",time:"Feb 21"},
      {home:"Getafe CF",hA:"GET",away:"Sevilla FC",aA:"SEV",hs:0,as:1,status:"FT",time:"Feb 22"},
      {home:"FC Barcelona",hA:"BAR",away:"Levante UD",aA:"LEV",hs:3,as:0,status:"FT",time:"Feb 22"},
      {home:"RC Celta Vigo",hA:"RCC",away:"RCD Mallorca",aA:"MAL",hs:2,as:0,status:"FT",time:"Feb 22"},
      {home:"Villarreal CF",hA:"VIL",away:"Valencia CF",aA:"VCF",hs:2,as:1,status:"FT",time:"Feb 22"},
      {home:"Dep. Alaves",hA:"ALA",away:"Girona FC",aA:"GIR",hs:2,as:2,status:"FT",time:"Feb 23"},
      {home:"Levante UD",hA:"LEV",away:"Dep. Alaves",aA:"ALA",hs:null,as:null,status:"SCH",time:"20:00",probH:35.9,probD:30.7,probA:33.4,date:"Feb 27"},
      {home:"Rayo Vallecano",hA:"RVC",away:"Athletic Bilbao",aA:"ATH",hs:null,as:null,status:"SCH",time:"13:00",probH:39.2,probD:30.6,probA:30.2,date:"Feb 28"},
      {home:"FC Barcelona",hA:"BAR",away:"Villarreal",aA:"VIL",hs:null,as:null,status:"SCH",time:"15:15",probH:74.2,probD:14.2,probA:11.6,date:"Feb 28"},
      {home:"RCD Mallorca",hA:"MAL",away:"Real Sociedad",aA:"RSO",hs:null,as:null,status:"SCH",time:"17:30",probH:31.9,probD:29.3,probA:38.8,date:"Feb 28"},
      {home:"Real Oviedo",hA:"OVI",away:"Atletico Madrid",aA:"ATM",hs:null,as:null,status:"SCH",time:"20:00",probH:17.4,probD:25.4,probA:57.2,date:"Feb 28"},
      {home:"Real Madrid",hA:"RMA",away:"Getafe CF",aA:"GET",hs:null,as:null,status:"SCH",time:"20:00",probH:73.9,probD:17.0,probA:9.1,date:"Mar 2"},
    ],
    standings: [
      {r:1,team:"FC Barcelona",abbr:"BAR",w:20,d:1,l:4,gf:62,ga:30,pts:61,form:["W","W","W","W","D"]},
      {r:2,team:"Real Madrid",abbr:"RMA",w:19,d:3,l:3,gf:58,ga:28,pts:60,form:["L","W","W","W","W"]},
      {r:3,team:"Villarreal CF",abbr:"VIL",w:16,d:3,l:6,gf:50,ga:32,pts:51,form:["W","W","W","L","W"]},
      {r:4,team:"Atletico Madrid",abbr:"ATM",w:14,d:6,l:5,gf:48,ga:30,pts:48,form:["W","W","D","W","D"]},
      {r:5,team:"Real Betis",abbr:"RBB",w:11,d:9,l:5,gf:40,ga:28,pts:42,form:["D","W","D","W","D"]},
      {r:6,team:"RC Celta Vigo",abbr:"RCC",w:9,d:10,l:6,gf:34,ga:32,pts:37,form:["W","D","D","W","L"]},
      {r:7,team:"Espanyol",abbr:"ESP",w:10,d:5,l:10,gf:36,ga:40,pts:35,form:["L","W","L","D","W"]},
      {r:8,team:"Athletic Bilbao",abbr:"ATH",w:10,d:4,l:11,gf:34,ga:38,pts:34,form:["W","D","W","L","L"]},
      {r:9,team:"CA Osasuna",abbr:"OSA",w:9,d:6,l:10,gf:32,ga:38,pts:33,form:["W","L","D","L","W"]},
      {r:10,team:"Real Sociedad",abbr:"RSO",w:8,d:8,l:9,gf:30,ga:34,pts:32,form:["D","D","W","L","D"]},
      {r:11,team:"Girona FC",abbr:"GIR",w:7,d:9,l:9,gf:30,ga:36,pts:30,form:["D","L","W","D","D"]},
      {r:12,team:"Sevilla FC",abbr:"SEV",w:8,d:5,l:12,gf:28,ga:40,pts:29,form:["W","L","D","L","W"]},
      {r:13,team:"Getafe CF",abbr:"GET",w:8,d:5,l:12,gf:26,ga:38,pts:29,form:["L","W","L","L","D"]},
      {r:14,team:"Dep. Alaves",abbr:"ALA",w:7,d:6,l:12,gf:26,ga:42,pts:27,form:["D","L","W","L","L"]},
      {r:15,team:"Rayo Vallecano",abbr:"RVC",w:6,d:8,l:10,gf:24,ga:36,pts:26,form:["D","L","D","W","D"]},
      {r:16,team:"Valencia CF",abbr:"VCF",w:6,d:8,l:11,gf:24,ga:38,pts:26,form:["L","D","L","D","L"]},
      {r:17,team:"Elche CF",abbr:"ELC",w:5,d:10,l:10,gf:22,ga:38,pts:25,form:["L","D","L","D","D"]},
      {r:18,team:"RCD Mallorca",abbr:"MAL",w:6,d:6,l:13,gf:22,ga:44,pts:24,form:["L","L","W","L","D"]},
      {r:19,team:"Levante UD",abbr:"LEV",w:4,d:6,l:15,gf:18,ga:50,pts:18,form:["L","L","D","L","L"]},
      {r:20,team:"Real Oviedo",abbr:"OVI",w:3,d:8,l:13,gf:16,ga:48,pts:17,form:["D","L","D","L","L"]},
    ]
  },
  bundesliga: {
    name: "Bundesliga", flag: "üá©üá™", country: "Germany",
    games: [
      {home:"Bayern Munich",hA:"BMU",away:"Eintracht Frankfurt",aA:"SGE",hs:3,as:2,status:"FT",time:"Feb 21"},
      {home:"VFL Wolfsburg",hA:"WOB",away:"FC Augsburg",aA:"FCA",hs:2,as:3,status:"FT",time:"Feb 21"},
      {home:"Union Berlin",hA:"UNI",away:"Bayer Leverkusen",aA:"LEV",hs:1,as:0,status:"FT",time:"Feb 21"},
      {home:"1. FC Cologne",hA:"KOE",away:"TSG Hoffenheim",aA:"TSG",hs:2,as:2,status:"FT",time:"Feb 21"},
      {home:"RB Leipzig",hA:"RBL",away:"Borussia Dortmund",aA:"BVB",hs:2,as:2,status:"FT",time:"Feb 21"},
      {home:"SC Freiburg",hA:"SCF",away:"B. M√∂nchengladbach",aA:"BMG",hs:2,as:1,status:"FT",time:"Feb 22"},
      {home:"FC St. Pauli",hA:"STP",away:"Werder Bremen",aA:"SVW",hs:2,as:1,status:"FT",time:"Feb 22"},
      {home:"1. FC Heidenheim",hA:"FCH",away:"VfB Stuttgart",aA:"VFB",hs:3,as:3,status:"FT",time:"Feb 22"},
      {home:"Bayer Leverkusen",hA:"LEV",away:"FSV Mainz",aA:"M05",hs:null,as:null,status:"SCH",time:"14:30",probH:56.4,probD:23.2,probA:20.4,date:"Feb 28"},
      {home:"Borussia Dortmund",hA:"BVB",away:"Bayern Munich",aA:"BMU",hs:null,as:null,status:"SCH",time:"17:30",probH:20.8,probD:19.8,probA:59.4,date:"Feb 28"},
      {home:"Werder Bremen",hA:"SVW",away:"1. FC Heidenheim",aA:"FCH",hs:null,as:null,status:"SCH",time:"14:30",probH:53.6,probD:24.1,probA:22.3,date:"Feb 28"},
      {home:"VfB Stuttgart",hA:"VFB",away:"VFL Wolfsburg",aA:"WOB",hs:null,as:null,status:"SCH",time:"14:30",probH:62.6,probD:19.6,probA:17.8,date:"Mar 1"},
    ],
    standings: [
      {r:1,team:"Bayern Munich",abbr:"BMU",w:19,d:3,l:1,gf:64,ga:22,pts:60,form:["W","W","W","W","W"]},
      {r:2,team:"Borussia Dortmund",abbr:"BVB",w:15,d:7,l:1,gf:52,ga:24,pts:52,form:["W","D","W","W","D"]},
      {r:3,team:"TSG Hoffenheim",abbr:"TSG",w:14,d:4,l:5,gf:48,ga:28,pts:46,form:["D","W","W","L","W"]},
      {r:4,team:"VfB Stuttgart",abbr:"VFB",w:13,d:4,l:6,gf:46,ga:30,pts:43,form:["D","W","W","L","W"]},
      {r:5,team:"RB Leipzig",abbr:"RBL",w:12,d:5,l:6,gf:44,ga:32,pts:41,form:["D","W","D","W","L"]},
      {r:6,team:"Bayer Leverkusen",abbr:"LEV",w:12,d:3,l:7,gf:42,ga:30,pts:39,form:["L","W","W","D","W"]},
      {r:7,team:"SC Freiburg",abbr:"SCF",w:9,d:6,l:8,gf:34,ga:32,pts:33,form:["W","D","L","W","D"]},
      {r:8,team:"Eintracht Frankfurt",abbr:"SGE",w:8,d:7,l:8,gf:32,ga:34,pts:31,form:["L","D","W","D","L"]},
      {r:9,team:"Union Berlin",abbr:"UNI",w:7,d:7,l:9,gf:28,ga:34,pts:28,form:["W","D","L","D","D"]},
      {r:10,team:"FC Augsburg",abbr:"FCA",w:8,d:4,l:11,gf:30,ga:38,pts:28,form:["W","L","D","L","W"]},
      {r:11,team:"Hamburger SV",abbr:"HSV",w:6,d:8,l:8,gf:26,ga:32,pts:26,form:["D","L","W","D","L"]},
      {r:12,team:"1. FC Cologne",abbr:"KOE",w:6,d:6,l:11,gf:24,ga:38,pts:24,form:["D","L","D","L","W"]},
      {r:13,team:"FSV Mainz",abbr:"M05",w:5,d:7,l:11,gf:22,ga:38,pts:22,form:["D","L","W","L","D"]},
      {r:14,team:"B. M√∂nchengladbach",abbr:"BMG",w:5,d:7,l:11,gf:22,ga:40,pts:22,form:["L","D","L","D","W"]},
      {r:15,team:"VFL Wolfsburg",abbr:"WOB",w:5,d:5,l:13,gf:20,ga:44,pts:20,form:["L","D","L","L","W"]},
      {r:16,team:"FC St. Pauli",abbr:"STP",w:5,d:5,l:13,gf:20,ga:46,pts:20,form:["W","L","D","L","L"]},
      {r:17,team:"Werder Bremen",abbr:"SVW",w:4,d:7,l:12,gf:18,ga:44,pts:19,form:["L","D","L","L","D"]},
      {r:18,team:"1. FC Heidenheim",abbr:"FCH",w:3,d:5,l:15,gf:16,ga:52,pts:14,form:["D","L","L","L","D"]},
    ]
  },
  serie_a: {
    name: "Serie A", flag: "üáÆüáπ", country: "Italy",
    games: [
      {home:"Juventus Turin",hA:"JUV",away:"Como 1907",aA:"COM",hs:0,as:2,status:"FT",time:"Feb 21"},
      {home:"US Lecce",hA:"LEC",away:"Inter Milano",aA:"INT",hs:0,as:2,status:"FT",time:"Feb 21"},
      {home:"Cagliari",hA:"CAG",away:"Lazio Rome",aA:"LAZ",hs:0,as:0,status:"FT",time:"Feb 21"},
      {home:"Genoa CFC",hA:"GEN",away:"Torino FC",aA:"TOR",hs:3,as:0,status:"FT",time:"Feb 22"},
      {home:"Atalanta BC",hA:"ATA",away:"SSC Napoli",aA:"NAP",hs:2,as:1,status:"FT",time:"Feb 22"},
      {home:"AC Milan",hA:"ACM",away:"Parma Calcio",aA:"PAR",hs:0,as:1,status:"FT",time:"Feb 22"},
      {home:"AS Roma",hA:"ROM",away:"US Cremonese",aA:"CRE",hs:3,as:0,status:"FT",time:"Feb 22"},
      {home:"ACF Fiorentina",hA:"FIO",away:"Pisa SC",aA:"PIS",hs:1,as:0,status:"FT",time:"Feb 23"},
      {home:"Bologna FC",hA:"BFC",away:"Udinese",aA:"UDI",hs:1,as:0,status:"FT",time:"Feb 23"},
      {home:"Inter Milano",hA:"INT",away:"Genoa CFC",aA:"GEN",hs:null,as:null,status:"SCH",time:"19:45",probH:73.5,probD:16.7,probA:9.8,date:"Feb 28"},
      {home:"AS Roma",hA:"ROM",away:"Juventus",aA:"JUV",hs:null,as:null,status:"SCH",time:"19:45",probH:36.6,probD:30.7,probA:32.7,date:"Mar 1"},
      {home:"AC Milan",hA:"ACM",away:"Atalanta",aA:"ATA",hs:null,as:null,status:"SCH",time:"14:00",probH:64.2,probD:21.4,probA:14.4,date:"Mar 1"},
    ],
    standings: [
      {r:1,team:"Inter Milano",abbr:"INT",w:21,d:1,l:4,gf:62,ga:28,pts:64,form:["W","W","W","W","L"]},
      {r:2,team:"AC Milan",abbr:"ACM",w:15,d:9,l:2,gf:48,ga:22,pts:54,form:["D","L","W","D","W"]},
      {r:3,team:"SSC Napoli",abbr:"NAP",w:15,d:5,l:6,gf:46,ga:28,pts:50,form:["L","W","W","D","W"]},
      {r:4,team:"AS Roma",abbr:"ROM",w:16,d:2,l:8,gf:50,ga:32,pts:50,form:["W","W","D","L","W"]},
      {r:5,team:"Juventus Turin",abbr:"JUV",w:13,d:7,l:6,gf:40,ga:26,pts:46,form:["L","W","D","W","L"]},
      {r:6,team:"Como 1907",abbr:"COM",w:12,d:9,l:5,gf:38,ga:28,pts:45,form:["W","D","W","D","W"]},
      {r:7,team:"Atalanta BC",abbr:"ATA",w:12,d:9,l:5,gf:44,ga:30,pts:45,form:["W","D","W","D","D"]},
      {r:8,team:"Bologna FC",abbr:"BFC",w:10,d:6,l:10,gf:34,ga:36,pts:36,form:["W","D","L","W","D"]},
      {r:9,team:"Sassuolo",abbr:"SAS",w:10,d:5,l:11,gf:32,ga:38,pts:35,form:["W","L","D","W","L"]},
      {r:10,team:"Lazio Rome",abbr:"LAZ",w:8,d:10,l:8,gf:30,ga:32,pts:34,form:["D","L","W","D","D"]},
      {r:11,team:"Udinese",abbr:"UDI",w:9,d:5,l:12,gf:28,ga:38,pts:32,form:["L","W","D","L","L"]},
      {r:12,team:"Parma Calcio",abbr:"PAR",w:8,d:8,l:10,gf:28,ga:36,pts:32,form:["W","D","L","D","W"]},
      {r:13,team:"Cagliari",abbr:"CAG",w:7,d:8,l:11,gf:26,ga:38,pts:29,form:["D","L","D","W","L"]},
      {r:14,team:"Genoa CFC",abbr:"GEN",w:6,d:9,l:11,gf:24,ga:38,pts:27,form:["W","L","D","L","D"]},
      {r:15,team:"Torino FC",abbr:"TOR",w:7,d:6,l:13,gf:26,ga:42,pts:27,form:["L","D","L","W","L"]},
      {r:16,team:"ACF Fiorentina",abbr:"FIO",w:5,d:9,l:12,gf:22,ga:38,pts:24,form:["W","L","D","L","D"]},
      {r:17,team:"US Cremonese",abbr:"CRE",w:5,d:9,l:12,gf:20,ga:40,pts:24,form:["L","D","W","L","L"]},
      {r:18,team:"US Lecce",abbr:"LEC",w:6,d:6,l:14,gf:22,ga:46,pts:24,form:["L","L","W","D","L"]},
      {r:19,team:"Pisa SC",abbr:"PIS",w:1,d:12,l:13,gf:14,ga:40,pts:15,form:["D","L","D","L","D"]},
      {r:20,team:"Hellas Verona",abbr:"VER",w:2,d:9,l:15,gf:14,ga:48,pts:15,form:["L","D","L","D","L"]},
    ]
  },
  champions_league: {
    name: "Champions League", flag: "‚≠ê", country: "Europe",
    games: [
      {home:"Club Brugge",hA:"BRU",away:"Atletico Madrid",aA:"ATM",hs:3,as:3,status:"FT",time:"Feb 18"},
      {home:"Bod√∏/Glimt",hA:"BOG",away:"Inter Milano",aA:"INT",hs:3,as:1,status:"FT",time:"Feb 18"},
      {home:"Atletico Madrid",hA:"ATM",away:"Club Brugge",aA:"BRU",hs:4,as:1,status:"FT",time:"Feb 24"},
      {home:"Bayer Leverkusen",hA:"LEV",away:"Olympiacos",aA:"OLY",hs:0,as:0,status:"FT",time:"Feb 24"},
      {home:"Newcastle Utd",hA:"NEW",away:"Qarabag FK",aA:"QAR",hs:3,as:2,status:"FT",time:"Feb 24"},
      {home:"Inter Milano",hA:"INT",away:"Bod√∏/Glimt",aA:"BOG",hs:1,as:2,status:"FT",time:"Feb 24"},
      {home:"Atalanta BC",hA:"ATA",away:"Borussia Dortmund",aA:"BVB",hs:4,as:1,status:"FT",time:"Feb 25"},
      {home:"Juventus Turin",hA:"JUV",away:"Galatasaray",aA:"GAL",hs:3,as:2,status:"FT",time:"Feb 25"},
      {home:"Paris Saint-Germain",hA:"PSG",away:"AS Monaco",aA:"ASM",hs:2,as:2,status:"FT",time:"Feb 25"},
      {home:"Real Madrid",hA:"RMA",away:"SL Benfica",aA:"BEN",hs:2,as:1,status:"FT",time:"Feb 25"},
    ],
    standings: null
  }
};

// ‚îÄ‚îÄ‚îÄ STATE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
let activeLeague = "all";
let dateFilter = "all";
let mainTab = "scores";
let countdown = 60;
let countdownTimer;
let activeModalTab = "overview";

// ‚îÄ‚îÄ‚îÄ RENDER SCORES ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function renderScores() {
  let html = "";
  const leagueKeys = activeLeague === "all" ? Object.keys(LEAGUES) : [activeLeague];

  leagueKeys.forEach(lk => {
    const L = LEAGUES[lk];
    let games = L.games;
    if (dateFilter === "past") games = games.filter(g => g.status === "FT");
    else if (dateFilter === "upcoming") games = games.filter(g => g.status === "SCH");
    if (!games.length) return;

    html += `<div class="league-block fade-up">
      <div class="league-header">
        <span class="league-header-flag">${L.flag}</span>
        <span class="league-header-name">${L.name}</span>
        <span class="league-header-sub">${L.country}</span>
        <span class="match-count-badge">${games.length}</span>
        <span class="league-header-toggle">‚ñæ</span>
      </div>`;

    games.forEach((g, gi) => {
      // Find actual index in the original array
      const realIdx = L.games.indexOf(g);
      const isLive = g.status === "LIVE";
      const isFT = g.status === "FT";
      const isSCH = g.status === "SCH";
      const hWin = isFT && g.hs > g.as;
      const aWin = isFT && g.as > g.hs;
      const hColor = getColor(g.hA);
      const aColor = getColor(g.aA);

      html += `<div class="match-row ${isLive ? "live-match" : ""}" onclick="openMatchDetail('${lk}', ${realIdx})">
        <div class="match-time">
          ${isLive ? `<span class="live-label">‚óè LIVE</span>` : ""}
          ${isFT ? `<span class="status-ft">FT</span><span class="time-val">${g.time}</span>` : ""}
          ${isSCH ? `<span class="time-val">${g.time}</span><span style="font-size:10px;color:var(--muted)">${g.date||""}</span>` : ""}
        </div>
        <div class="team-block">
          <div class="team-initial" style="background:${hColor}">${g.hA.slice(0,3)}</div>
          <span class="team-name-text ${hWin ? "winner" : ""}">${g.home}</span>
        </div>
        <div class="score-block">
          ${isSCH ? `<span style="font-size:11px;color:var(--muted);letter-spacing:1px;">vs</span>` :
          `<div class="score-main ${isLive ? "live-score" : ""}">
            <span class="s">${g.hs}</span>
            <span class="dash">‚Äì</span>
            <span class="s">${g.as}</span>
          </div>`}
          ${isSCH && g.probH ? `<div style="font-size:9px;color:var(--muted);margin-top:2px">${g.probH}% ¬∑ ${g.probD}% ¬∑ ${g.probA}%</div>` : ""}
        </div>
        <div class="team-block away">
          <div class="team-initial" style="background:${aColor}">${g.aA.slice(0,3)}</div>
          <span class="team-name-text ${aWin ? "winner" : ""}">${g.away}</span>
        </div>
        <div class="match-meta">
          ${isLive ? `<span class="meta-tag meta-live">LIVE</span>` : ""}
          ${isSCH ? `<span class="meta-tag meta-soon">Upcoming</span>` : ""}
          ${isFT ? `<span class="meta-tag">Finished</span>` : ""}
        </div>
      </div>`;
    });

    html += `</div>`;
  });

  document.getElementById("scores-content").innerHTML = html || `<div class="empty-state">No matches found for this filter.</div>`;
}

// ‚îÄ‚îÄ‚îÄ RENDER STANDINGS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function renderStandings() {
  let html = `<div class="standings-wrapper">`;
  const leagueKeys = activeLeague === "all" ? Object.keys(LEAGUES) : [activeLeague];
  leagueKeys.forEach(lk => {
    const L = LEAGUES[lk];
    if (!L.standings) return;
    html += `<div class="standings-league-title">${L.flag} ${L.name}</div>`;
    html += `<div class="zone-legend">
      <div class="zone-legend-item"><div class="zone-box" style="background:var(--accent)"></div> Champions League</div>
      <div class="zone-legend-item"><div class="zone-box" style="background:#2979ff"></div> Europa League</div>
      <div class="zone-legend-item"><div class="zone-box" style="background:var(--red)"></div> Relegation</div>
    </div>`;
    html += `<div class="standings-table-wrap"><table class="stable">
      <thead><tr>
        <th class="rank-col">#</th>
        <th>Club</th>
        <th class="num">P</th><th class="num">W</th><th class="num">D</th><th class="num">L</th>
        <th class="num">GF</th><th class="num">GA</th><th class="num">GD</th>
        <th class="num">Pts</th><th class="num">Form</th>
      </tr></thead><tbody>`;
    const total = L.standings.length;
    L.standings.forEach((s, i) => {
      const gd = s.gf - s.ga;
      const played = s.w + s.d + s.l;
      let zoneClass = "";
      if (s.r <= 4) zoneClass = "zone-cl";
      else if (s.r <= 6) zoneClass = "zone-el";
      else if (s.r >= total - 2) zoneClass = "zone-rel";
      const rCls = s.r <= 3 ? `rank-${s.r}` : "";
      const clr = getColor(s.abbr);
      html += `<tr class="${zoneClass}">
        <td><span class="rank-num ${rCls}">${s.r}</span></td>
        <td><div class="team-cell"><div class="t-init" style="background:${clr}">${s.abbr.slice(0,3)}</div><span class="t-name">${s.team}</span></div></td>
        <td class="num">${played}</td>
        <td class="num">${s.w}</td><td class="num">${s.d}</td><td class="num">${s.l}</td>
        <td class="num">${s.gf}</td><td class="num">${s.ga}</td>
        <td class="num" style="color:${gd>0?"var(--accent)":gd<0?"var(--red)":"var(--muted)"}">${gd>0?"+":""}${gd}</td>
        <td class="pts-col">${s.pts}</td>
        <td><div class="form-dots">${(s.form||[]).map(f=>`<div class="form-dot form-${f}">${f}</div>`).join("")}</div></td>
      </tr>`;
    });
    html += `</tbody></table></div>`;
  });
  html += `</div>`;
  document.getElementById("standings-content").innerHTML = html;
}

// ‚îÄ‚îÄ‚îÄ MATCH DETAIL MODAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function openMatchDetail(lk, gi) {
  const L = LEAGUES[lk];
  const g = L.games[gi];
  if (!g) return;

  activeModalTab = "overview";
  const modal = document.getElementById("matchModal");
  modal.classList.add("open");
  document.body.style.overflow = "hidden";

  renderModalContent(lk, g);

  setTimeout(() => {
    const bars = document.querySelectorAll('.stat-bar-home, .stat-bar-away');
    bars.forEach(b => { const w = b.dataset.width; if(w) b.style.width = w + '%'; });
  }, 100);
}

function closeMatchDetail() {
  document.getElementById("matchModal").classList.remove("open");
  document.body.style.overflow = "";
}

function switchModalTab(tab) {
  activeModalTab = tab;
  document.querySelectorAll(".modal-tab").forEach(t => t.classList.toggle("active", t.dataset.tab === tab));
  document.querySelectorAll(".tab-panel").forEach(p => p.classList.toggle("active", p.id === "tab-"+tab));
  if (tab === "stats") {
    setTimeout(() => {
      document.querySelectorAll('.stat-bar-home, .stat-bar-away').forEach(b => {
        const w = b.dataset.width;
        if(w) b.style.width = w + '%';
      });
    }, 50);
  }
}

function renderModalContent(lk, g) {
  const L = LEAGUES[lk];
  const hColor = getColor(g.hA);
  const aColor = getColor(g.aA);
  const isFT = g.status === "FT";
  const isLive = g.status === "LIVE";
  const isSCH = g.status === "SCH";

  // Generate data
  const hLineup = generateLineup(g.hA, "4-3-3");
  const aLineup = generateLineup(g.aA, "4-3-3");
  const events = isFT || isLive ? generateEvents(g) : [];
  const stats = isFT || isLive ? generateStats(g) : null;

  const rng = seededRand(teamSeed(g.hA + g.aA + "venue"));
  const venueList = VENUES[lk] || VENUES.epl;
  const venue = venueList[Math.floor(rng() * venueList.length)];
  const referee = REFEREES[Math.floor(rng() * REFEREES.length)];
  const attendance = 20000 + Math.floor(rng() * 50000);

  // Pick POTM from highest rated starter
  let potm = null;
  if (isFT) {
    const allStarters = [...hLineup.players.slice(0,11).map(p=>({...p,team:g.home,color:hColor})),
                         ...aLineup.players.slice(0,11).map(p=>({...p,team:g.away,color:aColor}))];
    potm = allStarters.reduce((best,p) => parseFloat(p.rating) > parseFloat(best.rating) ? p : best, allStarters[0]);
  }

  const statusLabel = isFT ? "Full Time" : isLive ? "LIVE" : "Upcoming";

  document.getElementById("modal-inner").innerHTML = `
    <div class="modal-header">
      <button class="modal-close" onclick="closeMatchDetail()">‚úï</button>
      <div class="modal-league-badge">
        <span class="flag">${L.flag}</span>
        <span class="name">${L.name}</span>
        <span class="round">${L.country}</span>
      </div>
      <div class="match-hero">
        <div class="mh-team">
          <div class="mh-badge" style="background:${hColor}">${g.hA.slice(0,3)}</div>
          <div class="mh-name">${g.home}</div>
          <div style="font-size:11px;color:var(--muted);font-weight:600">${hLineup.formation}</div>
        </div>
        <div class="mh-score-col">
          ${isSCH ? `
            <div style="font-family:'Barlow Condensed',sans-serif;font-size:14px;font-weight:700;color:var(--muted);letter-spacing:2px">VS</div>
            <div style="font-size:11px;color:var(--yellow);font-weight:700;margin-top:6px">‚è∞ ${g.time} ¬∑ ${g.date||""}</div>
          ` : `
            <div class="mh-score ${isLive ? 'live' : ''}">
              <span>${g.hs}</span>
              <span class="dash">‚Äì</span>
              <span>${g.as}</span>
            </div>
            <div class="mh-status ${isFT?'ft':isLive?'live':'sch'}">${statusLabel}</div>
            ${isFT ? `<div class="mh-halftime" id="ht-score">HT: ‚Äì</div>` : ''}
          `}
          ${isSCH && g.probH ? `<div style="font-size:10px;color:var(--muted);margin-top:8px;text-align:center">
            <span style="color:${hColor}">${g.probH}%</span> ¬∑ <span style="color:var(--muted)">${g.probD}%</span> ¬∑ <span style="color:${aColor}">${g.probA}%</span>
          </div>` : ''}
        </div>
        <div class="mh-team" style="align-items:flex-end">
          <div class="mh-badge" style="background:${aColor}">${g.aA.slice(0,3)}</div>
          <div class="mh-name" style="text-align:right">${g.away}</div>
          <div style="font-size:11px;color:var(--muted);font-weight:600;text-align:right">${aLineup.formation}</div>
        </div>
      </div>
      <div class="match-meta-row">
        <span>üèü ${venue}</span>
        <span class="sep">|</span>
        <span>üë§ ${referee}</span>
        ${isFT ? `<span class="sep">|</span><span>üë• ${attendance.toLocaleString()}</span>` : ''}
      </div>
    </div>
    <div class="modal-tabs">
      <button class="modal-tab active" data-tab="overview" onclick="switchModalTab('overview')">Overview</button>
      <button class="modal-tab" data-tab="lineups" onclick="switchModalTab('lineups')">Line-ups</button>
      ${isFT||isLive ? `<button class="modal-tab" data-tab="stats" onclick="switchModalTab('stats')">Stats</button>
      <button class="modal-tab" data-tab="events" onclick="switchModalTab('events')">Events</button>` : ''}
    </div>
    <div class="modal-body">
      ${renderOverviewTab(g, events, potm, hColor, aColor, hLineup, aLineup, venue, referee, attendance)}
      ${renderLineupsTab(g, hLineup, aLineup, hColor, aColor)}
      ${isFT||isLive ? renderStatsTab(g, stats, hLineup, aLineup, hColor, aColor) : ''}
      ${isFT||isLive ? renderEventsTab(g, events, hColor, aColor) : ''}
    </div>
  `;

  // Compute and set halftime score hint
  if (isFT && events.length) {
    const htGoals = events.filter(e => e.type === 'goal' && e.min <= 45);
    const htH = htGoals.filter(e => e.side === 'home').length;
    const htA = htGoals.filter(e => e.side === 'away').length;
    const el = document.getElementById('ht-score');
    if (el) el.textContent = `HT: ${htH} ‚Äì ${htA}`;
  }
}

function renderOverviewTab(g, events, potm, hColor, aColor, hLineup, aLineup, venue, referee, attendance) {
  const isFT = g.status === "FT";
  const isSCH = g.status === "SCH";
  const goals = events.filter(e => e.type === 'goal');
  const yellows = events.filter(e => e.type === 'yellow');
  const reds = events.filter(e => e.type === 'red');

  let goalsHtml = goals.length ? goals.map(e => `
    <div class="goal-line">
      <span class="goal-min">${e.min}'</span>
      <span class="goal-icon">‚öΩ</span>
      <div>
        <div class="goal-player">${e.player}</div>
        <div class="goal-team-name">${e.team}</div>
      </div>
    </div>
  `).join('') : `<div style="font-size:11px;color:var(--muted);padding:8px 0">No goals scored</div>`;

  const potmHtml = potm ? `
    <div class="potm-card">
      <div class="potm-badge" style="background:${potm.color}">${potm.name.slice(0,3).toUpperCase()}</div>
      <div class="potm-info">
        <div class="potm-name">${potm.name}</div>
        <div class="potm-team">${potm.team}</div>
        <div class="potm-rating">${potm.rating}</div>
      </div>
    </div>
  ` : `<div style="font-size:11px;color:var(--muted)">Available after match</div>`;

  // Top-rated players for each team
  const hTop3 = hLineup.players.slice(0,11).sort((a,b)=>parseFloat(b.rating)-parseFloat(a.rating)).slice(0,3);
  const aTop3 = aLineup.players.slice(0,11).sort((a,b)=>parseFloat(b.rating)-parseFloat(a.rating)).slice(0,3);

  const ratingColor = r => parseFloat(r) >= 7.5 ? 'var(--accent)' : parseFloat(r) >= 6.5 ? 'var(--text)' : 'var(--red)';

  const topPerformersHtml = `
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:4px">
      <div>
        <div style="font-size:10px;color:var(--muted);font-weight:700;margin-bottom:6px;text-transform:uppercase;letter-spacing:0.5px">${g.home}</div>
        ${hTop3.map(p=>`
          <div style="display:flex;justify-content:space-between;align-items:center;padding:5px 0;border-bottom:1px solid rgba(33,38,45,0.4)">
            <div>
              <div style="font-size:12px;font-weight:600">${p.name}</div>
              <div style="font-size:10px;color:var(--muted)">${p.pos}</div>
            </div>
            <div style="font-family:'Barlow Condensed',sans-serif;font-size:15px;font-weight:800;color:${ratingColor(p.rating)}">${p.rating}</div>
          </div>
        `).join('')}
      </div>
      <div>
        <div style="font-size:10px;color:var(--muted);font-weight:700;margin-bottom:6px;text-transform:uppercase;letter-spacing:0.5px">${g.away}</div>
        ${aTop3.map(p=>`
          <div style="display:flex;justify-content:space-between;align-items:center;padding:5px 0;border-bottom:1px solid rgba(33,38,45,0.4)">
            <div>
              <div style="font-size:12px;font-weight:600">${p.name}</div>
              <div style="font-size:10px;color:var(--muted)">${p.pos}</div>
            </div>
            <div style="font-family:'Barlow Condensed',sans-serif;font-size:15px;font-weight:800;color:${ratingColor(p.rating)}">${p.rating}</div>
          </div>
        `).join('')}
      </div>
    </div>
  `;

  return `<div class="tab-panel active" id="tab-overview">
    <div class="overview-grid">
      ${isFT ? `
      <div class="overview-card">
        <div class="ov-card-title">‚öΩ Goals</div>
        ${goalsHtml}
      </div>
      <div class="overview-card">
        <div class="ov-card-title">‚≠ê Player of the Match</div>
        ${potmHtml}
        ${yellows.length||reds.length ? `
          <div style="margin-top:12px;border-top:1px solid var(--border);padding-top:10px">
            ${yellows.length ? `<div style="font-size:11px;margin-bottom:4px"><span style="color:var(--yellow)">üü® ${yellows.length} yellow card${yellows.length>1?'s':''}</span></div>` : ''}
            ${reds.length ? `<div style="font-size:11px"><span style="color:var(--red)">üü• ${reds.length} red card${reds.length>1?'s':''}</span></div>` : ''}
          </div>
        ` : ''}
      </div>
      <div class="overview-card ov-card-full">
        <div class="ov-card-title">üìä Top Performers</div>
        ${topPerformersHtml}
      </div>
      ` : isSCH ? `
      <div class="overview-card ov-card-full">
        <div class="ov-card-title">üìä Win Probability</div>
        <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;margin-top:8px">
          <div style="text-align:center;background:rgba(0,200,83,0.05);border:1px solid rgba(0,200,83,0.1);border-radius:8px;padding:12px">
            <div style="font-family:'Barlow Condensed',sans-serif;font-size:28px;font-weight:900;color:${hColor}">${g.probH}%</div>
            <div style="font-size:10px;color:var(--muted);margin-top:2px">Home Win</div>
          </div>
          <div style="text-align:center;background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:12px">
            <div style="font-family:'Barlow Condensed',sans-serif;font-size:28px;font-weight:900;color:var(--muted)">${g.probD}%</div>
            <div style="font-size:10px;color:var(--muted);margin-top:2px">Draw</div>
          </div>
          <div style="text-align:center;background:rgba(41,121,255,0.05);border:1px solid rgba(41,121,255,0.1);border-radius:8px;padding:12px">
            <div style="font-family:'Barlow Condensed',sans-serif;font-size:28px;font-weight:900;color:${aColor}">${g.probA}%</div>
            <div style="font-size:10px;color:var(--muted);margin-top:2px">Away Win</div>
          </div>
        </div>
      </div>
      ` : ''}
      <div class="overview-card ov-card-full">
        <div class="ov-card-title">üèü Match Info</div>
        <div class="info-row"><span class="info-label">Venue</span><span class="info-value">${venue}</span></div>
        <div class="info-row"><span class="info-label">Referee</span><span class="info-value">${referee}</span></div>
        ${isFT ? `<div class="info-row"><span class="info-label">Attendance</span><span class="info-value">${attendance.toLocaleString()}</span></div>` : ''}
        <div class="info-row"><span class="info-label">Date</span><span class="info-value">${g.date||g.time}</span></div>
        <div class="info-row"><span class="info-label">Competition</span><span class="info-value">${LEAGUES[Object.keys(LEAGUES).find(k=>LEAGUES[k].games.includes(g))||'epl'].name}</span></div>
      </div>
    </div>
  </div>`;
}

function renderLineupsTab(g, hLineup, aLineup, hColor, aColor) {
  const buildPitch = (lineup, color, isAway) => {
    const [defs, mids, fwds] = lineup.formation.split('-').map(Number);
    const starters = lineup.players.slice(0, 11);
    const gk = starters[0];
    const defPlayers = starters.slice(1, 1+defs);
    const midPlayers = starters.slice(1+defs, 1+defs+mids);
    const fwdPlayers = starters.slice(1+defs+mids, 11);
    const rows = isAway ? [fwdPlayers, midPlayers, defPlayers, [gk]] : [[gk], defPlayers, midPlayers, fwdPlayers];

    return rows.map(row => `
      <div class="pitch-row">
        ${row.map(p => `
          <div class="pitch-player">
            <div class="pitch-dot" style="background:${color}">
              <span class="shirt-num">${p.num}</span>
              ${p.captain ? '¬©' : p.name.slice(0,3).toUpperCase()}
            </div>
            <div class="pitch-pname">${p.name.split(' ').pop()}</div>
          </div>
        `).join('')}
      </div>
    `).join('');
  };

  const buildPlayerList = (lineup, color) => {
    const starters = lineup.players.slice(0, 11);
    const subs = lineup.players.slice(11);
    return `
      ${starters.map(p => `
        <div class="lineup-player-row">
          <span class="lp-num">${p.num}</span>
          <div class="lp-dot" style="background:${color}">${p.name.slice(0,2).toUpperCase()}</div>
          <span class="lp-name">${p.name}${p.captain ? '<span class="lp-captain">¬©</span>' : ''}</span>
          <span class="lp-pos">${p.pos}</span>
          <span class="lp-rating ${parseFloat(p.rating)>=7.5?'high':parseFloat(p.rating)<6.5?'low':''}">${p.rating}</span>
        </div>
      `).join('')}
      <div class="sub-label">Substitutes</div>
      ${subs.slice(0,5).map(p => `
        <div class="lineup-player-row">
          <span class="lp-num">${p.num}</span>
          <div class="lp-dot" style="background:${color};opacity:0.5">${p.name.slice(0,2).toUpperCase()}</div>
          <span class="lp-name" style="color:var(--muted)">${p.name}</span>
          <span class="lp-pos">${p.pos}</span>
        </div>
      `).join('')}
    `;
  };

  return `<div class="tab-panel" id="tab-lineups">
    <div class="lineups-wrapper">
      <div class="pitch-wrapper">
        <div class="pitch-center-dot"></div>
        <div class="pitch-half">
          ${buildPitch(hLineup, hColor, false)}
          <div class="pitch-divider"></div>
          ${buildPitch(aLineup, aColor, true)}
        </div>
      </div>
      <div class="lineup-cols">
        <div>
          <div class="lineup-col-title">
            <div style="width:16px;height:16px;border-radius:50%;background:${hColor};flex-shrink:0"></div>
            ${g.home} <span style="font-size:11px;color:var(--muted);font-weight:600">${hLineup.formation}</span>
          </div>
          ${buildPlayerList(hLineup, hColor)}
        </div>
        <div>
          <div class="lineup-col-title">
            <div style="width:16px;height:16px;border-radius:50%;background:${aColor};flex-shrink:0"></div>
            ${g.away} <span style="font-size:11px;color:var(--muted);font-weight:600">${aLineup.formation}</span>
          </div>
          ${buildPlayerList(aLineup, aColor)}
        </div>
      </div>
    </div>
  </div>`;
}

function renderStatsTab(g, stats, hLineup, aLineup, hColor, aColor) {
  const statBar = (label, hVal, aVal, isPercent) => {
    const total = hVal + aVal || 1;
    const hPct = Math.round((hVal / total) * 100);
    const aPct = 100 - hPct;
    return `
      <div class="stat-row">
        <div class="stat-row-header">
          <span class="stat-val home">${hVal}${isPercent?'%':''}</span>
          <span class="stat-label">${label}</span>
          <span class="stat-val away">${aVal}${isPercent?'%':''}</span>
        </div>
        <div class="stat-bar-bg">
          <div class="stat-bar-home" data-width="${hPct}" style="width:0"></div>
          <div class="stat-bar-away" data-width="${aPct}" style="width:0"></div>
        </div>
      </div>
    `;
  };

  // Per-player stats
  const hStarters = hLineup.players.slice(0,11).sort((a,b)=>parseFloat(b.rating)-parseFloat(a.rating));
  const aStarters = aLineup.players.slice(0,11).sort((a,b)=>parseFloat(b.rating)-parseFloat(a.rating));
  const ratingColor = r => parseFloat(r)>=7.5 ? 'green' : parseFloat(r)>=6.5 ? 'yellow' : 'red';

  const buildPlayerTable = (players, color) => `
    <table class="pstats-table">
      <thead>
        <tr>
          <th></th>
          <th>Player</th>
          <th class="r">Rating</th>
          <th class="r">Pos</th>
        </tr>
      </thead>
      <tbody>
        ${players.map(p => `
          <tr>
            <td><div style="width:22px;height:22px;border-radius:50%;background:${color};display:flex;align-items:center;justify-content:center;font-size:8px;font-weight:900;color:#fff;font-family:'Barlow Condensed',sans-serif">${p.name.slice(0,3).toUpperCase()}</div></td>
            <td><div class="pstats-name">${p.name}</div></td>
            <td class="r"><span class="pstats-rating ${ratingColor(p.rating)}">${p.rating}</span></td>
            <td class="r"><span style="font-size:10px;color:var(--muted);background:var(--border);padding:1px 5px;border-radius:3px;font-family:'Barlow Condensed',sans-serif;font-weight:700">${p.pos}</span></td>
          </tr>
        `).join('')}
      </tbody>
    </table>
  `;

  return `<div class="tab-panel" id="tab-stats">
    <div class="stats-wrapper">
      <div class="stats-team-header">
        <div>
          <div class="sth-badge" style="background:${hColor};width:32px;height:32px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;font-family:'Barlow Condensed',sans-serif;font-size:10px;font-weight:900;color:#fff">${g.hA.slice(0,3)}</div>
          <div class="sth-name" style="margin-top:4px">${g.home}</div>
        </div>
        <div style="font-family:'Barlow Condensed',sans-serif;font-size:24px;font-weight:900;color:var(--muted)">VS</div>
        <div style="text-align:right">
          <div class="sth-badge" style="background:${aColor};width:32px;height:32px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;font-family:'Barlow Condensed',sans-serif;font-size:10px;font-weight:900;color:#fff">${g.aA.slice(0,3)}</div>
          <div class="sth-name right" style="margin-top:4px">${g.away}</div>
        </div>
      </div>

      <div class="possession-block">
        <div class="poss-side left">
          <div class="poss-pct">${stats.hPoss}%</div>
          <div class="poss-label">Possession</div>
        </div>
        <div class="poss-side right">
          <div class="poss-pct">${stats.aPoss}%</div>
          <div class="poss-label">Possession</div>
        </div>
      </div>

      <div class="stat-category">Attacking</div>
      ${statBar("Total Shots", stats.hShots, stats.aShots, false)}
      ${statBar("Shots on Target", stats.hShotsOT, stats.aShotsOT, false)}
      ${statBar("Dribbles Completed", stats.hDribbles, stats.aDribbles, false)}

      <div class="stat-category">Passing</div>
      ${statBar("Pass Accuracy", stats.hPassAcc, stats.aPassAcc, true)}
      ${statBar("Corners", stats.hCorners, stats.aCorners, false)}

      <div class="stat-category">Defending</div>
      ${statBar("Fouls Committed", stats.hFouls, stats.aFouls, false)}
      ${statBar("Offsides", stats.hOffsides, stats.aOffsides, false)}
      ${statBar("Saves", stats.hSaves, stats.aSaves, false)}
      ${statBar("Aerial Duels Won", stats.hAerials, stats.aAerials, false)}

      <div class="pstats-wrapper">
        <div class="pstats-title" style="color:${hColor}">${g.home} ‚Äî Player Ratings</div>
        ${buildPlayerTable(hStarters, hColor)}
      </div>
      <div class="pstats-wrapper" style="margin-top:20px">
        <div class="pstats-title" style="color:${aColor}">${g.away} ‚Äî Player Ratings</div>
        ${buildPlayerTable(aStarters, aColor)}
      </div>
    </div>
  </div>`;
}

function renderEventsTab(g, events, hColor, aColor) {
  if (!events.length) return `<div class="tab-panel" id="tab-events"><div class="empty-state">No events to display.</div></div>`;

  const htIdx = events.findIndex(e => e.min > 45);
  const ht2Idx = events.findIndex(e => e.min > 90);

  let html = '';
  let htAdded = false, etAdded = false;

  events.forEach((ev, i) => {
    if (!htAdded && ev.min > 45) {
      html += `<div class="tl-item"><div class="tl-period-marker" style="grid-column:1/-1;"><div class="tl-period-line"></div><span class="tl-period-label">Half Time</span><div class="tl-period-line"></div></div></div>`;
      htAdded = true;
    }
    if (!etAdded && ev.min > 90) {
      html += `<div class="tl-item"><div class="tl-period-marker" style="grid-column:1/-1;"><div class="tl-period-line"></div><span class="tl-period-label">Extra Time</span><div class="tl-period-line"></div></div></div>`;
      etAdded = true;
    }

    const isHome = ev.side === 'home';
    const typeClass = ev.type === 'goal' ? 'goal' : ev.type === 'yellow' ? 'yellow-card' : ev.type === 'red' ? 'red-card' : 'sub';
    const icon = ev.type === 'goal' ? '‚öΩ' : ev.type === 'yellow' ? 'üü®' : ev.type === 'red' ? 'üü•' : 'üîÑ';

    const eventContent = `
      <div class="tl-event">
        <span class="tl-event-icon">${icon}</span>
        <div class="tl-event-player">${ev.player}</div>
        ${ev.type === 'sub' ? `<div class="tl-event-sub-out"><span style="color:var(--red)">‚ñº</span> ${ev.playerOut}</div>` : ''}
        <div class="tl-event-type">${ev.team}</div>
      </div>
    `;

    html += `
      <div class="tl-item">
        <div class="tl-home">${isHome ? eventContent : ''}</div>
        <div class="tl-minute ${typeClass}">${ev.min}'</div>
        <div class="tl-away">${!isHome ? eventContent : ''}</div>
      </div>
    `;
  });

  if (g.status === "FT") {
    html += `<div class="tl-item"><div class="tl-period-marker" style="grid-column:1/-1;"><div class="tl-period-line"></div><span class="tl-period-label">Full Time</span><div class="tl-period-line"></div></div></div>`;
  }

  return `<div class="tab-panel" id="tab-events">
    <div class="events-wrapper">
      <div style="display:grid;grid-template-columns:1fr auto 1fr;align-items:center;margin-bottom:16px;padding:0 4px">
        <div style="font-size:12px;font-weight:700;color:${hColor}">${g.home}</div>
        <div style="width:40px"></div>
        <div style="font-size:12px;font-weight:700;color:${aColor};text-align:right">${g.away}</div>
      </div>
      <div class="timeline">${html}</div>
    </div>
  </div>`;
}

// ‚îÄ‚îÄ‚îÄ CONTROLS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function switchMainTab(tab, el) {
  mainTab = tab;
  document.querySelectorAll(".nav-tab").forEach(t => t.classList.remove("active"));
  el.classList.add("active");
  document.getElementById("panel-scores").style.display = tab === "scores" ? "" : "none";
  document.getElementById("panel-standings").style.display = tab === "standings" ? "" : "none";
  if (tab === "standings") renderStandings();
}

function filterLeague(league, el) {
  activeLeague = league;
  document.querySelectorAll(".sidebar-item").forEach(i => i.classList.remove("active"));
  el.classList.add("active");
  if (mainTab === "scores") renderScores();
  else renderStandings();
}

function setDateFilter(filter, el) {
  dateFilter = filter;
  document.querySelectorAll(".date-btn").forEach(b => b.classList.remove("active"));
  el.classList.add("active");
  renderScores();
}

function refreshAll() {
  const btn = document.getElementById("btn-refresh");
  btn.disabled = true;
  btn.textContent = "‚Üª Loading...";
  setTimeout(() => {
    renderScores();
    renderStandings();
    countdown = 60;
    document.getElementById("countdown").textContent = "60";
    btn.disabled = false;
    btn.textContent = "‚Üª Refresh";
  }, 800);
}

function startCountdown() {
  clearInterval(countdownTimer);
  countdown = 60;
  countdownTimer = setInterval(() => {
    countdown--;
    const el = document.getElementById("countdown");
    if (el) el.textContent = countdown;
    if (countdown <= 0) {
      countdown = 60;
      renderScores();
      if (mainTab === "standings") renderStandings();
    }
  }, 1000);
}

// Close modal on Escape
document.addEventListener('keydown', e => { if (e.key === 'Escape') closeMatchDetail(); });

// ‚îÄ‚îÄ‚îÄ INIT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
renderScores();
startCountdown();
</script>
</body>
</html>
